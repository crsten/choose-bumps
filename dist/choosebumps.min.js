"use strict";function ChooseBumps(e,t){function n(){this.element=e,E.classList.add("choosebumps"),E.setAttribute("tabindex",0),h(),y.call(this,t||{})}function r(e){return"string"!=typeof e?console.error("Placeholder must be a string."):(q=e,void E.querySelector(".cb-main-item").setAttribute("placeholder",q))}function c(e){w=!!e,w&&"object"===("undefined"==typeof x?"undefined":_typeof(x))&&x&&(x=[x])}function i(e){e===!0?(b(),E.classList.add("cb-active"),document.addEventListener("click",i),m(),C=!0):(d(),E.classList.remove("cb-active"),document.removeEventListener("click",i),B=null,C=!1)}function o(e,t){t.stopPropagation(),x.splice(x.indexOf(e),1),x.length||(x=null),x||E.querySelector(".cb-main-item").classList.add("cb-placeholder"),v(),b()}function l(){null===B&&(B=-1);var e=L.children.length-1;B=e>B?B+1:e,u()}function s(){null===B&&(B=-1);L.children.length-1;B=0===B?null:B-1,u()}function u(){var e=L.querySelector(".cb-selected");e&&e.classList.remove("cb-selected");var t=L.children[B];t&&t.classList.add("cb-selected")}function a(e,t){E.querySelector(".cb-main-item").classList.remove("cb-placeholder"),d(),w?(x&&x.indexOf(e)<0?x.push(e):x=[e],b(),t&&t.stopPropagation(),m()):(x=e,i(!1)),N&&N(e),v()}function f(e){if(S=!!e){E.classList.add("cb-search-enabled");var t=document.createElement("input");t.className="cb-search",t.setAttribute("type","text"),t.setAttribute("size",1),t.setAttribute("autocomplete","off"),t.addEventListener("keyup",function(e){new RegExp("38|40|13").test(e.keyCode)===!1&&(b(p(this.value)),B||l())}),t.addEventListener("keypress",function(){this.setAttribute("size",this.value.length+1)}),t.addEventListener("keydown",function(e){switch(e.keyCode){case 38:e.preventDefault(),s();break;case 40:e.preventDefault(),l();break;case 13:a(P[parseInt(L.children[B].getAttribute("data-id"),10)]),B=null}}),E.querySelector(".cb-main-item").appendChild(t)}else E.classList.remove("cb-search-enabled")}function d(){S&&(E.querySelector(".cb-search").value="")}function m(){S&&E.querySelector(".cb-search").focus()}function p(e){function t(e){return Object.keys(e).reduce(function(r,c){var i=!1;return i="object"===_typeof(e[c])?t(e[c]):n.test(e[c]),i&&(r=!0),r},!1)}if(!e)return P;var n=new RegExp(e,"i");return P.filter(function(e){if(k){var r=!1;return k.split(" ").forEach(function(t){var c=t.split("."),i=c.reduce(function(e,t){return e[t]},e);n.test(i)&&(r=!0)}),r}return"string"==typeof e?n.test(e):t(e)})}function h(){var e=document.createElement("div");e.className="cb-main-item cb-placeholder trigger";var t='<svg class="cb-caret trigger" viewBox="0 0 512 512">\n						<path class="trigger" d="m508 108c-4-4-11-4-15 1l-237 271l-237-271c-4-5-11-5-15-1c-5 4-5 10-1 15l245 280c2 3 5 4 8 4c3 0 6-1 8-4l245-280c4-5 4-11-1-15z"></path>\n					</svg>';e.innerHTML+=t,E.appendChild(e),L=document.createElement("div"),L.className="cb-items",E.appendChild(L),E.querySelector(".cb-main-item").addEventListener("click",function(e){e.stopPropagation(),i(!C)})}function v(){var e=E.querySelector(".cb-main-item");if(w){if([].slice.call(E.querySelectorAll(".cb-main-item .cb-tag")).forEach(function(t){e.removeChild(t)}),!x)return;x.forEach(function(t){var n=document.createElement("div");n.className="cb-tag",n.innerHTML=g(t,j)+'<svg viewBox="0 0 512 512">\n						<path d="m271 256l238-238c4-4 4-11 0-15c-4-4-11-4-15 0l-238 238l-238-238c-4-4-11-4-15 0c-4 4-4 11 0 15l238 238l-238 238c-4 4-4 11 0 15c2 2 5 3 8 3c2 0 5-1 7-3l238-238l238 238c2 2 5 3 7 3c3 0 6-1 8-3c4-4 4-11 0-15z"></path>\n					</svg>',n.querySelector("svg").addEventListener("click",o.bind(null,t)),e.insertBefore(n,e.children[e.children.length-1])})}else{var t=document.createElement("div");t.className="cb-selected-item",t.innerHTML=g(x,A);var n=E.querySelector(".cb-selected-item");n&&e.removeChild(n),e.insertBefore(t,e.children[e.children.length-1])}}function b(e){L.innerHTML="",P.forEach(function(t,n){if(!(e&&e.length&&e.indexOf(t)<0||w&&x&&x.indexOf(t)>-1||!w&&x===t)){var r=document.createElement("div");r.setAttribute("data-id",n),r.innerHTML=g(t,O),r.addEventListener("click",a.bind(null,t)),L.appendChild(r)}})}function g(e,t){for(var n=/{{data\.?(.+?)?}}/,r=void 0;r=n.exec(t);){var c="",i=e;if(r[1]){var o=r[1].split(".");c="."+r[1],i=o.reduce(function(e,t){return e[t]},e)}var l=new RegExp("{{data"+c+"}}");t=t.replace(l,i)}return t}function y(e){for(var t in T)this[t]=e[t]?e[t]:T[t]}if(this instanceof ChooseBumps==!1)return new ChooseBumps(e,t);var E=null,L=null,S=!1,x=null,C=!1,k=null,q=null,w=!1,O="",j=null,A=null,B=null,N=null,P=[],T={placeholder:"Choose",items:[],search:!1,searchfields:"",multiple:!1,template:"{{data}}",tagtemplate:null,selectedtemplate:null,onselect:null};return Object.defineProperties(this,{element:{get:function(){return E},set:function(e){if("string"==typeof e){var t=document.querySelector(e);t?E=t:console.error("Element not found.")}else e instanceof HTMLElement?E=e:console.error("Invalid argument")}},items:{get:function(){return P},set:function(e){e instanceof Array?P=e:console.error("Items must be an array.")}},search:{get:function(){return S},set:f},placeholder:{get:function(){return q},set:r},multiple:{get:function(){return w},set:c},selected:{get:function(){return x}},template:{get:function(){return O},set:function(e){"string"==typeof e?O=e:console.error("Template must be a string.")}},tagtemplate:{get:function(){return j},set:function(e){j="string"==typeof e?e:O}},selectedtemplate:{get:function(){return A},set:function(e){A="string"==typeof e?e:O}},searchfields:{get:function(){return k},set:function(e){"string"==typeof e?k=e:console.error("SearchFields must be a string.")}},onselect:{get:function(){return N},set:function(e){"function"==typeof e?N=e:e||(N=null)}}}),this.select=function(e){function t(e,t){if("object"!==("undefined"==typeof e?"undefined":_typeof(e))&&"object"!==("undefined"==typeof t?"undefined":_typeof(t)))return e===t;var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!==r.length)return!1;for(var c=0;c<n.length;c++){var i=n[c];if(e[i]!==t[i])return!1}return!0}var n=P.reduce(function(n,r){return n=t(e,r)?r:n},null);n&&a(n)},n.call(this),Object.freeze(this)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define("ChooseBumps",e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:window.ChooseBumps=e}(ChooseBumps);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNob29zZWJ1bXBzLmpzIl0sIm5hbWVzIjpbIkNob29zZUJ1bXBzIiwiZWxlbWVudCIsIm9wdGlvbnMiLCJpbml0IiwidGhpcyIsIkVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJyZW5kZXJIVE1MIiwic2V0QXJncyIsImNhbGwiLCJzZXRQbGFjZWhvbGRlciIsIngiLCJjb25zb2xlIiwiZXJyb3IiLCJQbGFjZWhvbGRlciIsInF1ZXJ5U2VsZWN0b3IiLCJzZXRNdWx0aXBsZSIsInN0YXRlIiwiTXVsdGlwbGUiLCJTZWxlY3RlZCIsIl90eXBlb2YiLCJzZXRPcGVuZWQiLCJyZW5kZXJJdGVtcyIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImZvY3VzU2VhcmNoIiwiaXNPcGVuIiwicmVzZXRTZWFyY2giLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiU2VsZWN0ZWRJbmRleCIsInJlbW92ZVNlbGVjdGVkIiwiaXRlbSIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwic3BsaWNlIiwiaW5kZXhPZiIsImxlbmd0aCIsInJlbmRlclNlbGVjdGlvbiIsInNlbGVjdE5leHQiLCJtYXgiLCJJdGVtQ29udGFpbmVyIiwiY2hpbGRyZW4iLCJ1cGRhdGVTZWxlY3Rpb24iLCJzZWxlY3RQcmV2Iiwib2xkU2VsZWN0aW9uIiwiZWwiLCJzZWxlY3RJdGVtIiwicHVzaCIsIm9uU2VsZWN0Iiwic2V0U2VhcmNoIiwiU2VhcmNoIiwiU2VhcmNoQm94IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImUiLCJSZWdFeHAiLCJ0ZXN0Iiwia2V5Q29kZSIsInNlYXJjaCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJJdGVtcyIsInBhcnNlSW50IiwiZ2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJmb2N1cyIsInF1ZXJ5Iiwic2VhcmNoT2JqZWN0Iiwib2JqIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsInZhbCIsImtleSIsImNoZWNrIiwicmVnZXgiLCJmaWx0ZXIiLCJTZWFyY2hGaWVsZHMiLCJzcGxpdCIsImZvckVhY2giLCJmaWVsZCIsIk1haW5JdGVtIiwiQ2FyZXQiLCJpbm5lckhUTUwiLCJtYWluSXRlbSIsInNsaWNlIiwicXVlcnlTZWxlY3RvckFsbCIsInQiLCJyZW1vdmVDaGlsZCIsInRhZyIsInBhcnNlVGVtcGxhdGUiLCJUYWdUZW1wbGF0ZSIsImJpbmQiLCJpbnNlcnRCZWZvcmUiLCJTZWxlY3RlZFRlbXBsYXRlIiwicHJldmlvdXNJdGVtIiwiaXRlbXMiLCJpbmRleCIsIm9wdGlvbiIsIlRlbXBsYXRlIiwiZGF0YSIsInRlbXBsYXRlIiwicmUiLCJtIiwiZXhlYyIsInNlbGVjdG9yIiwicmVwbGFjZSIsIm9wdHMiLCJkZWZhdWx0cyIsInBsYWNlaG9sZGVyIiwic2VhcmNoZmllbGRzIiwibXVsdGlwbGUiLCJ0YWd0ZW1wbGF0ZSIsInNlbGVjdGVkdGVtcGxhdGUiLCJvbnNlbGVjdCIsImRlZmluZVByb3BlcnRpZXMiLCJnZXQiLCJzZXQiLCJIVE1MRWxlbWVudCIsIkFycmF5Iiwic2VsZWN0ZWQiLCJzZWxlY3QiLCJpc0VxdWl2YWxlbnQiLCJhIiwiYiIsImFQcm9wcyIsImdldE93blByb3BlcnR5TmFtZXMiLCJiUHJvcHMiLCJpIiwicHJvcE5hbWUiLCJtYXRjaCIsImZyZWV6ZSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwiZXhwb3J0cyIsIm1vZHVsZSIsIndpbmRvdyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFRQSxTQUFTQSxhQUFZQyxFQUFRQyxHQThCNUIsUUFBU0MsS0FDUkMsS0FBS0gsUUFBVUEsRUFDZkksRUFBUUMsVUFBVUMsSUFBSSxlQUN0QkYsRUFBUUcsYUFBYSxXQUFXLEdBQ2hDQyxJQUVBQyxFQUFRQyxLQUFLUCxLQUFLRixPQUduQixRQUFTVSxHQUFlQyxHQUN2QixNQUFnQixnQkFBTkEsR0FBdUJDLFFBQVFDLE1B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QUFBd0csS0FBK0IsWUFBTixtQkFBQUMsR0FBQSxZQUFBekcsUUFBQXlHLElBQWdCLE1BQU9ELEtBQU1DLENBQ2hFLElBQUlDLEdBQVN4RCxPQUFPeUQsb0JBQW9CSCxHQUNwQ0ksRUFBUzFELE9BQU95RCxvQkFBb0JGLEVBRXhDLElBQUlDLEVBQU96RixTQUFXMkYsRUFBTzNGLE9BQVEsT0FBTyxDQUU1QyxLQUFLLEdBQUk0RixHQUFJLEVBQUdBLEVBQUlILEVBQU96RixPQUFRNEYsSUFBSyxDQUN2QyxHQUFJQyxHQUFXSixFQUFPRyxFQUV0QixJQUFHTCxFQUFFTSxLQUFjTCxFQUFFSyxHQUFXLE9BQU8sRUFFeEMsT0FBTyxFQWZSLEdBQUlDLEdBQVFyRSxFQUFNVSxPQUFPLFNBQUNnQyxFQUFFeUIsR0FLM0IsTUFMaUN6QixHQUFJbUIsRUFBYTNGLEVBQUtpRyxHQUFLQSxFQUFJekIsR0FBRSxLQUNoRTJCLElBQU9wRixFQUFXb0YsSUFtQnRCbEksRUFBS1EsS0FBS1AsTUFNSG9FLE9BQU84RCxPQUFPbEksTUFqYXRCLEdBQUlrQixTQUE0QixrQkFBWGlILFNBQW9ELGdCQUFwQkEsUUFBT0MsU0FBd0IsU0FBVWpFLEdBQU8sYUFBY0EsSUFBUyxTQUFVQSxHQUFPLE1BQU9BLElBQXlCLGtCQUFYZ0UsU0FBeUJoRSxFQUFJa0UsY0FBZ0JGLE9BQVMsZUFBa0JoRSxLQXNhek8sU0FBbUJtRSxHQUNPLGtCQUFYQyxTQUF5QkEsT0FBT0MsSUFBTUQsT0FBTyxjQUFlRCxHQUMzQyxZQUFaLG1CQUFBRyxTQUFBLFlBQUF2SCxRQUFBdUgsVUFBdUJDLE9BQU9ELFFBQVVILEVBQ3BESyxPQUFPL0ksWUFBYzBJLEdBQzNCMUkiLCJmaWxlIjoiY2hvb3NlYnVtcHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKiAgQ2hvb3NlQnVtcHNcclxuICogIEEgZHJvcGRvd24gc28gc2ltcGxlIGl0IHdpbGwgZ2l2ZSB5b3UgY2hvb3NlLWJ1bXBzIVxyXG4gKiAgQXV0aG9yOiBjYXIuamFjb2JzZW5AZ21haWwuY29tXHJcbiAqICBMaWNlbnNlOiBNSVRcclxuICovXHJcblxyXG5mdW5jdGlvbiBDaG9vc2VCdW1wcyhlbGVtZW50LG9wdGlvbnMpIHtcclxuXHRpZih0aGlzIGluc3RhbmNlb2YgQ2hvb3NlQnVtcHMgPT09IGZhbHNlKSByZXR1cm4gbmV3IENob29zZUJ1bXBzKGVsZW1lbnQsb3B0aW9ucyk7XHJcblxyXG5cdGxldCBFbGVtZW50ID0gbnVsbDtcclxuXHRsZXQgSXRlbUNvbnRhaW5lciA9IG51bGw7XHJcblx0bGV0IFNlYXJjaCA9IGZhbHNlO1xyXG5cdGxldCBTZWxlY3RlZCA9IG51bGw7XHJcblx0bGV0IGlzT3BlbiA9IGZhbHNlO1xyXG5cdGxldCBTZWFyY2hGaWVsZHMgPSBudWxsO1xyXG5cdGxldCBQbGFjZWhvbGRlciA9IG51bGw7XHJcblx0bGV0IE11bHRpcGxlID0gZmFsc2U7XHJcblx0bGV0IFRlbXBsYXRlID0gJyc7XHJcblx0bGV0IFRhZ1RlbXBsYXRlID0gbnVsbDtcclxuXHRsZXQgU2VsZWN0ZWRUZW1wbGF0ZSA9IG51bGw7XHJcblx0bGV0IFNlbGVjdGVkSW5kZXggPSBudWxsO1xyXG5cdGxldCBvblNlbGVjdCA9IG51bGw7XHJcblx0bGV0IEl0ZW1zID0gW107XHJcblxyXG5cdGxldCBkZWZhdWx0cyA9IHtcclxuXHRcdHBsYWNlaG9sZGVyOiAnQ2hvb3NlJyxcclxuXHRcdGl0ZW1zOiBbXSxcclxuXHRcdHNlYXJjaDogZmFsc2UsXHJcblx0XHRzZWFyY2hmaWVsZHM6ICcnLFxyXG5cdFx0bXVsdGlwbGU6IGZhbHNlLFxyXG5cdFx0dGVtcGxhdGU6ICd7e2RhdGF9fScsXHJcblx0XHR0YWd0ZW1wbGF0ZTogbnVsbCxcclxuXHRcdHNlbGVjdGVkdGVtcGxhdGU6IG51bGwsXHJcblx0XHRvbnNlbGVjdDogbnVsbFxyXG5cdH07XHJcblxyXG5cdGZ1bmN0aW9uIGluaXQoKSB7XHJcblx0XHR0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG5cdFx0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjaG9vc2VidW1wcycpO1xyXG5cdFx0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywwKTtcclxuXHRcdHJlbmRlckhUTUwoKTtcclxuXHRcdFxyXG5cdFx0c2V0QXJncy5jYWxsKHRoaXMsb3B0aW9ucyB8fCB7fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBzZXRQbGFjZWhvbGRlcih4KSB7XHJcblx0XHRpZih0eXBlb2YgeCAhPT0gJ3N0cmluZycpIHJldHVybiBjb25zb2xlLmVycm9yKCdQbGFjZWhvbGRlciBtdXN0IGJlIGEgc3RyaW5nLicpO1xyXG5cdFx0UGxhY2Vob2xkZXIgPSB4O1xyXG5cdFx0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2ItbWFpbi1pdGVtJykuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsUGxhY2Vob2xkZXIpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc2V0TXVsdGlwbGUoc3RhdGUpIHtcclxuXHRcdE11bHRpcGxlID0gKHN0YXRlKSA/IHRydWUgOiBmYWxzZTtcclxuXHRcdGlmKE11bHRpcGxlKSBpZih0eXBlb2YgU2VsZWN0ZWQgPT09ICdvYmplY3QnICYmIFNlbGVjdGVkKSBTZWxlY3RlZCA9IFtTZWxlY3RlZF07IFxyXG5cdH1cclxuXHRcclxuXHQvKiBJbnRlcmFjdGlvbnMgKi9cclxuXHRcclxuXHRmdW5jdGlvbiBzZXRPcGVuZWQoc3RhdGUpIHtcclxuXHRcdGlmKHN0YXRlID09PSB0cnVlKSB7XHJcblx0XHRcdHJlbmRlckl0ZW1zKCk7XHJcblx0XHRcdEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2ItYWN0aXZlJyk7XHJcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZXRPcGVuZWQpO1xyXG5cdFx0XHRmb2N1c1NlYXJjaCgpO1xyXG5cdFx0XHRpc09wZW4gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdHJlc2V0U2VhcmNoKCk7XHJcblx0XHRcdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnY2ItYWN0aXZlJyk7XHJcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZXRPcGVuZWQpO1xyXG5cdFx0XHRTZWxlY3RlZEluZGV4ID0gbnVsbDtcclxuXHRcdFx0aXNPcGVuID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKiBTZWxlY3RpbmcgKi9cclxuXHJcblx0ZnVuY3Rpb24gcmVtb3ZlU2VsZWN0ZWQoaXRlbSxldmVudCkge1xyXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRTZWxlY3RlZC5zcGxpY2UoU2VsZWN0ZWQuaW5kZXhPZihpdGVtKSwxKTtcclxuXHRcdGlmKCFTZWxlY3RlZC5sZW5ndGgpIFNlbGVjdGVkID0gbnVsbDtcclxuXHJcblx0XHRpZighU2VsZWN0ZWQpIEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNiLW1haW4taXRlbScpLmNsYXNzTGlzdC5hZGQoJ2NiLXBsYWNlaG9sZGVyJyk7XHJcblxyXG5cdFx0cmVuZGVyU2VsZWN0aW9uKCk7XHJcblx0XHRyZW5kZXJJdGVtcygpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc2VsZWN0TmV4dCgpIHtcclxuICAgICAgICBpZihTZWxlY3RlZEluZGV4ID09PSBudWxsKSBTZWxlY3RlZEluZGV4ID0gLTE7XHJcbiAgICAgICAgbGV0IG1heCA9IEl0ZW1Db250YWluZXIuY2hpbGRyZW4ubGVuZ3RoIC0gMTtcclxuXHJcbiAgICAgICAgU2VsZWN0ZWRJbmRleCA9IChTZWxlY3RlZEluZGV4IDwgbWF4KSA/IFNlbGVjdGVkSW5kZXggKyAxIDogbWF4O1xyXG4gICAgICAgIHVwZGF0ZVNlbGVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdFByZXYoKSB7XHJcbiAgICAgICAgaWYoU2VsZWN0ZWRJbmRleCA9PT0gbnVsbCkgU2VsZWN0ZWRJbmRleCA9IC0xO1xyXG4gICAgICAgIGxldCBtYXggPSBJdGVtQ29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgICAgIFNlbGVjdGVkSW5kZXggPSAoU2VsZWN0ZWRJbmRleCA9PT0gMCkgPyBudWxsIDogU2VsZWN0ZWRJbmRleCAtIDE7XHJcbiAgICAgICAgdXBkYXRlU2VsZWN0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlU2VsZWN0aW9uKCkge1xyXG4gICAgICAgIHZhciBvbGRTZWxlY3Rpb24gPSBJdGVtQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYi1zZWxlY3RlZCcpO1xyXG4gICAgICAgIGlmKG9sZFNlbGVjdGlvbikgb2xkU2VsZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2NiLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgbGV0IGVsID0gSXRlbUNvbnRhaW5lci5jaGlsZHJlbltTZWxlY3RlZEluZGV4XTtcclxuICAgICAgICBpZihlbCkgZWwuY2xhc3NMaXN0LmFkZCgnY2Itc2VsZWN0ZWQnKTtcclxuICAgIH0gXHJcblxyXG5cdGZ1bmN0aW9uIHNlbGVjdEl0ZW0oaXRlbSxldmVudCkge1xyXG5cdFx0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2ItbWFpbi1pdGVtJykuY2xhc3NMaXN0LnJlbW92ZSgnY2ItcGxhY2Vob2xkZXInKTtcclxuXHRcdHJlc2V0U2VhcmNoKCk7XHJcblxyXG5cdFx0aWYoTXVsdGlwbGUpIHtcclxuXHRcdFx0aWYoU2VsZWN0ZWQgJiYgU2VsZWN0ZWQuaW5kZXhPZihpdGVtKSA8IDApIFNlbGVjdGVkLnB1c2goaXRlbSk7XHJcblx0XHRcdGVsc2UgU2VsZWN0ZWQgPSBbaXRlbV07XHJcblxyXG5cdFx0XHRyZW5kZXJJdGVtcygpO1xyXG5cdFx0XHRpZihldmVudCkgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdGZvY3VzU2VhcmNoKCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0U2VsZWN0ZWQgPSBpdGVtO1xyXG5cdFx0XHRzZXRPcGVuZWQoZmFsc2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmKG9uU2VsZWN0KSBvblNlbGVjdChpdGVtKTtcclxuXHRcdHJlbmRlclNlbGVjdGlvbigpO1xyXG5cdH1cclxuXHJcblx0LyogLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbiAgICAvKiBTZWFyY2hpbmcgKi9cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRTZWFyY2goc3RhdGUpIHtcclxuXHRcdFNlYXJjaCA9IChzdGF0ZSkgPyB0cnVlIDogZmFsc2U7XHJcblxyXG5cdFx0aWYoU2VhcmNoKSB7XHJcblx0XHRcdEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2Itc2VhcmNoLWVuYWJsZWQnKTtcclxuXHRcdFx0bGV0IFNlYXJjaEJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcblx0XHRcdFx0U2VhcmNoQm94LmNsYXNzTmFtZSA9ICdjYi1zZWFyY2gnO1xyXG5cdFx0XHRcdFNlYXJjaEJveC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCd0ZXh0Jyk7XHJcblx0XHRcdFx0U2VhcmNoQm94LnNldEF0dHJpYnV0ZSgnc2l6ZScsMSk7XHJcblx0XHRcdFx0U2VhcmNoQm94LnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywnb2ZmJyk7XHJcblxyXG5cdFx0XHRcdFNlYXJjaEJveC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsZnVuY3Rpb24gS2V5VXAoZSkge1xyXG5cdFx0XHRcdFx0aWYobmV3IFJlZ0V4cCgnMzh8NDB8MTMnKS50ZXN0KGUua2V5Q29kZSkgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRcdHJlbmRlckl0ZW1zKHNlYXJjaCh0aGlzLnZhbHVlKSk7XHJcblx0XHRcdFx0XHRcdGlmKCFTZWxlY3RlZEluZGV4KSBzZWxlY3ROZXh0KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFNlYXJjaEJveC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsZnVuY3Rpb24gS2V5UHJlc3MoKSB7XHJcblx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSgnc2l6ZScsdGhpcy52YWx1ZS5sZW5ndGggKyAxKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0U2VhcmNoQm94LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLGZ1bmN0aW9uIEtleURvd24oZSkge1xyXG5cdFx0XHRcdFx0c3dpdGNoKGUua2V5Q29kZSkge1xyXG5cdFx0XHRcdFx0XHRjYXNlIDM4OlxyXG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdHNlbGVjdFByZXYoKTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgNDA6XHJcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0c2VsZWN0TmV4dCgpO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAxMzpcclxuXHRcdFx0XHRcdFx0c2VsZWN0SXRlbShJdGVtc1twYXJzZUludChJdGVtQ29udGFpbmVyLmNoaWxkcmVuW1NlbGVjdGVkSW5kZXhdLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpLDEwKV0pO1xyXG5cdFx0XHRcdFx0XHRTZWxlY3RlZEluZGV4ID0gbnVsbDtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9ICAgXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYi1tYWluLWl0ZW0nKS5hcHBlbmRDaGlsZChTZWFyY2hCb3gpO1xyXG5cdFx0fWVsc2UgRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdjYi1zZWFyY2gtZW5hYmxlZCcpO1xyXG5cdH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNldFNlYXJjaCgpIHtcclxuXHRcdGlmKCFTZWFyY2gpIHJldHVybjtcclxuXHRcdEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNiLXNlYXJjaCcpLnZhbHVlID0gJyc7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBmb2N1c1NlYXJjaCgpIHtcclxuXHRcdGlmKCFTZWFyY2gpIHJldHVybjtcclxuXHRcdEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNiLXNlYXJjaCcpLmZvY3VzKCk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBzZWFyY2gocXVlcnkpIHtcclxuXHRcdGlmKCFxdWVyeSkgcmV0dXJuIEl0ZW1zO1xyXG5cdFx0bGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChxdWVyeSwnaScpO1xyXG5cclxuXHRcdHJldHVybiBJdGVtcy5maWx0ZXIoZnVuY3Rpb24gRmlsdGVyKHgpIHtcclxuXHRcdFx0aWYoU2VhcmNoRmllbGRzKSB7XHJcblx0XHRcdFx0bGV0IHN0YXRlID0gZmFsc2U7XHJcblx0XHRcdFx0U2VhcmNoRmllbGRzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiBGb3JFYWNoKGZpZWxkKSB7XHJcblx0XHRcdFx0XHRsZXQga2V5cyA9IGZpZWxkLnNwbGl0KCcuJyk7XHJcblx0XHRcdFx0XHRsZXQgdmFsdWUgPSBrZXlzLnJlZHVjZShmdW5jdGlvbiBSZWR1Y2UodmFsLGl0ZW0pIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbFtpdGVtXTtcclxuXHRcdFx0XHRcdH0seCk7XHJcblxyXG5cdFx0XHRcdFx0aWYocmVnZXgudGVzdCh2YWx1ZSkpIHN0YXRlID0gdHJ1ZTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHN0YXRlO1xyXG5cdFx0XHR9ZWxzZVxyXG5cdFx0XHRpZih0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHJldHVybiByZWdleC50ZXN0KHgpO1xyXG5cdFx0XHRlbHNlIFxyXG5cdFx0XHRcdHJldHVybiBzZWFyY2hPYmplY3QoeCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRmdW5jdGlvbiBzZWFyY2hPYmplY3Qob2JqKSB7XHJcblx0XHRcdHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiBSZWR1Y2UodmFsLGtleSkge1xyXG5cdFx0XHRcdGxldCBjaGVjayA9IGZhbHNlO1xyXG5cdFx0XHRcdGlmKHR5cGVvZiBvYmpba2V5XSA9PT0gJ29iamVjdCcpIGNoZWNrID0gc2VhcmNoT2JqZWN0KG9ialtrZXldKTtcclxuXHRcdFx0XHRlbHNlIGNoZWNrID0gcmVnZXgudGVzdChvYmpba2V5XSk7XHJcblxyXG5cdFx0XHRcdGlmKGNoZWNrKSB2YWwgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gdmFsO1xyXG5cdFx0XHR9LGZhbHNlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5cdC8qIFJlbmRlcmluZyAqL1xyXG5cclxuXHRmdW5jdGlvbiByZW5kZXJIVE1MKCkge1xyXG5cdFx0bGV0IE1haW5JdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdE1haW5JdGVtLmNsYXNzTmFtZSA9ICdjYi1tYWluLWl0ZW0gY2ItcGxhY2Vob2xkZXIgdHJpZ2dlcic7XHJcblxyXG5cclxuXHRcdGxldCBDYXJldCA9IGA8c3ZnIGNsYXNzPVwiY2ItY2FyZXQgdHJpZ2dlclwiIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiPlxyXG5cdFx0XHRcdFx0XHQ8cGF0aCBjbGFzcz1cInRyaWdnZXJcIiBkPVwibTUwOCAxMDhjLTQtNC0xMS00LTE1IDFsLTIzNyAyNzFsLTIzNy0yNzFjLTQtNS0xMS01LTE1LTFjLTUgNC01IDEwLTEgMTVsMjQ1IDI4MGMyIDMgNSA0IDggNGMzIDAgNi0xIDgtNGwyNDUtMjgwYzQtNSA0LTExLTEtMTV6XCI+PC9wYXRoPlxyXG5cdFx0XHRcdFx0PC9zdmc+YDtcclxuXHJcblx0XHRNYWluSXRlbS5pbm5lckhUTUwgKz0gQ2FyZXQ7XHJcblx0XHRFbGVtZW50LmFwcGVuZENoaWxkKE1haW5JdGVtKTtcclxuXHJcblx0XHRJdGVtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRJdGVtQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdjYi1pdGVtcyc7XHJcblx0XHRFbGVtZW50LmFwcGVuZENoaWxkKEl0ZW1Db250YWluZXIpO1xyXG5cdFx0XHJcblx0XHRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYi1tYWluLWl0ZW0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKGUpID0+IHtcclxuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0c2V0T3BlbmVkKCFpc09wZW4pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0LypFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywoKSA9PiB7XHJcblx0XHRcdGlmKCFpc09wZW4pIHtcclxuXHRcdFx0XHRzZXRPcGVuZWQodHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH0pOyovXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZW5kZXJTZWxlY3Rpb24oKSB7XHJcblx0XHRsZXQgbWFpbkl0ZW0gPSBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYi1tYWluLWl0ZW0nKTtcclxuXHJcblx0XHRpZihNdWx0aXBsZSkge1xyXG5cdFx0XHRbXS5zbGljZS5jYWxsKEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNiLW1haW4taXRlbSAuY2ItdGFnJykpLmZvckVhY2goKHQpID0+IHtcclxuXHRcdFx0XHRtYWluSXRlbS5yZW1vdmVDaGlsZCh0KTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGlmKCFTZWxlY3RlZCkgcmV0dXJuO1xyXG5cclxuXHRcdFx0U2VsZWN0ZWQuZm9yRWFjaChpdGVtID0+IHtcclxuXHRcdFx0XHRsZXQgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0XHR0YWcuY2xhc3NOYW1lID0gJ2NiLXRhZyc7XHJcblx0XHRcdFx0XHR0YWcuaW5uZXJIVE1MID0gcGFyc2VUZW1wbGF0ZShpdGVtLFRhZ1RlbXBsYXRlKSArIGA8c3ZnIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiPlxyXG5cdFx0XHRcdFx0XHQ8cGF0aCBkPVwibTI3MSAyNTZsMjM4LTIzOGM0LTQgNC0xMSAwLTE1Yy00LTQtMTEtNC0xNSAwbC0yMzggMjM4bC0yMzgtMjM4Yy00LTQtMTEtNC0xNSAwYy00IDQtNCAxMSAwIDE1bDIzOCAyMzhsLTIzOCAyMzhjLTQgNC00IDExIDAgMTVjMiAyIDUgMyA4IDNjMiAwIDUtMSA3LTNsMjM4LTIzOGwyMzggMjM4YzIgMiA1IDMgNyAzYzMgMCA2LTEgOC0zYzQtNCA0LTExIDAtMTV6XCI+PC9wYXRoPlxyXG5cdFx0XHRcdFx0PC9zdmc+YDtcclxuXHJcblx0XHRcdFx0XHR0YWcucXVlcnlTZWxlY3Rvcignc3ZnJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLHJlbW92ZVNlbGVjdGVkLmJpbmQobnVsbCxpdGVtKSk7XHJcblxyXG5cdFx0XHRcdG1haW5JdGVtLmluc2VydEJlZm9yZSh0YWcsbWFpbkl0ZW0uY2hpbGRyZW5bbWFpbkl0ZW0uY2hpbGRyZW4ubGVuZ3RoIC0gMV0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGxldCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0aXRlbS5jbGFzc05hbWUgPSAnY2Itc2VsZWN0ZWQtaXRlbSc7XHJcblx0XHRcdFx0aXRlbS5pbm5lckhUTUwgPSBwYXJzZVRlbXBsYXRlKFNlbGVjdGVkLFNlbGVjdGVkVGVtcGxhdGUpO1xyXG5cdFx0XHRcclxuXHJcblx0XHRcdGxldCBwcmV2aW91c0l0ZW0gPSBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYi1zZWxlY3RlZC1pdGVtJyk7XHJcblx0XHRcdGlmKHByZXZpb3VzSXRlbSkgbWFpbkl0ZW0ucmVtb3ZlQ2hpbGQocHJldmlvdXNJdGVtKTtcclxuXHRcdFx0bWFpbkl0ZW0uaW5zZXJ0QmVmb3JlKGl0ZW0sbWFpbkl0ZW0uY2hpbGRyZW5bbWFpbkl0ZW0uY2hpbGRyZW4ubGVuZ3RoIC0gMV0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuXHRcdEl0ZW1Db250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcblx0XHRJdGVtcy5mb3JFYWNoKChpdGVtLGluZGV4KSA9PiB7XHJcblx0XHRcdGlmKGl0ZW1zICYmIGl0ZW1zLmxlbmd0aCAmJiBpdGVtcy5pbmRleE9mKGl0ZW0pIDwgMCkgcmV0dXJuO1xyXG5cdFx0XHRpZihNdWx0aXBsZSAmJiBTZWxlY3RlZCAmJiBTZWxlY3RlZC5pbmRleE9mKGl0ZW0pID4gLTEgfHwgIU11bHRpcGxlICYmIFNlbGVjdGVkID09PSBpdGVtKSByZXR1cm47XHJcblx0XHRcdGxldCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRvcHRpb24uc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgaW5kZXgpO1xyXG5cdFx0XHRcdG9wdGlvbi5pbm5lckhUTUwgPSBwYXJzZVRlbXBsYXRlKGl0ZW0sVGVtcGxhdGUpO1xyXG5cdFx0XHRcdG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsc2VsZWN0SXRlbS5iaW5kKG51bGwsaXRlbSkpO1xyXG5cclxuXHRcdFx0SXRlbUNvbnRhaW5lci5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBwYXJzZVRlbXBsYXRlKGRhdGEsdGVtcGxhdGUpIHtcclxuXHRcdGxldCByZSA9IC97e2RhdGFcXC4/KC4rPyk/fX0vO1xyXG5cdFx0bGV0IG07XHJcblx0XHR3aGlsZShtID0gcmUuZXhlYyh0ZW1wbGF0ZSkpIHtcclxuXHRcdFx0bGV0IHNlbGVjdG9yID0gJyc7XHJcblx0XHRcdGxldCB2YWx1ZSA9IGRhdGE7XHJcblx0XHRcdGlmKG1bMV0pIHtcclxuXHRcdFx0XHRsZXQga2V5cyA9IG1bMV0uc3BsaXQoJy4nKTtcclxuXHRcdFx0XHRzZWxlY3RvciA9ICcuJyArIG1bMV07XHJcblx0XHRcdFx0dmFsdWUgPSBrZXlzLnJlZHVjZShmdW5jdGlvbiBSZWR1Y2UodmFsLGl0ZW0pIHtcclxuXHRcdFx0XHRcdHJldHVybiB2YWxbaXRlbV07XHJcblx0XHRcdFx0fSxkYXRhKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IHJlcGxhY2UgPSBuZXcgUmVnRXhwKCd7e2RhdGEnICsgc2VsZWN0b3IgKyAnfX0nKTtcclxuXHRcdFx0dGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKHJlcGxhY2UsdmFsdWUpO1xyXG5cdFx0fSBcclxuXHJcblx0XHRyZXR1cm4gdGVtcGxhdGU7XHJcblx0fVxyXG5cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuXHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtcclxuXHRcdCdlbGVtZW50Jzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IEVsZW1lbnQsXHJcblx0XHRcdHNldDogKHgpID0+IHtcclxuXHRcdFx0XHRpZih0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdGxldCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoeCk7XHJcblx0XHRcdFx0XHRpZihlbCkgRWxlbWVudCA9IGVsO1xyXG5cdFx0XHRcdFx0ZWxzZSBjb25zb2xlLmVycm9yKCdFbGVtZW50IG5vdCBmb3VuZC4nKTtcclxuXHRcdFx0XHR9ZWxzZSBpZih4IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIEVsZW1lbnQgPSB4O1xyXG5cdFx0XHRcdGVsc2UgY29uc29sZS5lcnJvcignSW52YWxpZCBhcmd1bWVudCcpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J2l0ZW1zJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IEl0ZW1zLFxyXG5cdFx0XHRzZXQ6ICh4KSA9PiB7XHJcblx0XHRcdFx0aWYoeCBpbnN0YW5jZW9mIEFycmF5KSBJdGVtcyA9IHg7XHJcblx0XHRcdFx0ZWxzZSBjb25zb2xlLmVycm9yKCdJdGVtcyBtdXN0IGJlIGFuIGFycmF5LicpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J3NlYXJjaCc6IHtcclxuXHRcdFx0Z2V0OiAoKSA9PiBTZWFyY2gsXHJcblx0XHRcdHNldDogc2V0U2VhcmNoXHJcblx0XHR9LFxyXG5cdFx0J3BsYWNlaG9sZGVyJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IFBsYWNlaG9sZGVyLFxyXG5cdFx0XHRzZXQ6IHNldFBsYWNlaG9sZGVyXHJcblx0XHR9LFxyXG5cdFx0J211bHRpcGxlJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IE11bHRpcGxlLFxyXG5cdFx0XHRzZXQ6IHNldE11bHRpcGxlXHJcblx0XHR9LFxyXG5cdFx0J3NlbGVjdGVkJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IFNlbGVjdGVkXHJcblx0XHR9LFxyXG5cdFx0J3RlbXBsYXRlJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IFRlbXBsYXRlLFxyXG5cdFx0XHRzZXQ6ICh4KSA9PiB7XHJcblx0XHRcdFx0aWYodHlwZW9mIHggPT09ICdzdHJpbmcnKSBUZW1wbGF0ZSA9IHg7XHJcblx0XHRcdFx0ZWxzZSBjb25zb2xlLmVycm9yKCdUZW1wbGF0ZSBtdXN0IGJlIGEgc3RyaW5nLicpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J3RhZ3RlbXBsYXRlJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IFRhZ1RlbXBsYXRlLFxyXG5cdFx0XHRzZXQ6ICh4KSA9PiB7XHJcblx0XHRcdFx0aWYodHlwZW9mIHggPT09ICdzdHJpbmcnKSBUYWdUZW1wbGF0ZSA9IHg7XHJcblx0XHRcdFx0ZWxzZSBUYWdUZW1wbGF0ZSA9IFRlbXBsYXRlO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J3NlbGVjdGVkdGVtcGxhdGUnOiB7XHJcblx0XHRcdGdldDogKCkgPT4gU2VsZWN0ZWRUZW1wbGF0ZSxcclxuXHRcdFx0c2V0OiAoeCkgPT4ge1xyXG5cdFx0XHRcdGlmKHR5cGVvZiB4ID09PSAnc3RyaW5nJykgU2VsZWN0ZWRUZW1wbGF0ZSA9IHg7XHJcblx0XHRcdFx0ZWxzZSBTZWxlY3RlZFRlbXBsYXRlID0gVGVtcGxhdGU7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQnc2VhcmNoZmllbGRzJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IFNlYXJjaEZpZWxkcyxcclxuXHRcdFx0c2V0OiAoeCkgPT4ge1xyXG5cdFx0XHRcdGlmKHR5cGVvZiB4ID09PSAnc3RyaW5nJykgU2VhcmNoRmllbGRzID0geDtcclxuXHRcdFx0XHRlbHNlIGNvbnNvbGUuZXJyb3IoJ1NlYXJjaEZpZWxkcyBtdXN0IGJlIGEgc3RyaW5nLicpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J29uc2VsZWN0Jzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IG9uU2VsZWN0LFxyXG5cdFx0XHRzZXQ6ICh4KSA9PiB7XHJcblx0XHRcdFx0aWYodHlwZW9mIHggPT09ICdmdW5jdGlvbicpIG9uU2VsZWN0ID0geDtcclxuXHRcdFx0XHRlbHNlIGlmKCF4KSBvblNlbGVjdCA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0dGhpcy5zZWxlY3QgPSBmdW5jdGlvbiBTZWxlY3QoaXRlbSkge1xyXG5cdFx0bGV0IG1hdGNoID0gSXRlbXMucmVkdWNlKChtLGkpID0+IG0gPSBpc0VxdWl2YWxlbnQoaXRlbSxpKSA/IGkgOiBtLG51bGwpO1xyXG5cdFx0aWYobWF0Y2gpIHNlbGVjdEl0ZW0obWF0Y2gpO1xyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBpc0VxdWl2YWxlbnQoYSwgYikge1xyXG5cdFx0XHRpZih0eXBlb2YgYSAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgIT09ICdvYmplY3QnKSByZXR1cm4gYSA9PT0gYjtcclxuXHRcdFx0bGV0IGFQcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEpO1xyXG5cdFx0XHRsZXQgYlByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYik7XHJcblxyXG5cdFx0XHRpZiAoYVByb3BzLmxlbmd0aCAhPT0gYlByb3BzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhUHJvcHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRsZXQgcHJvcE5hbWUgPSBhUHJvcHNbaV07XHJcblxyXG5cdFx0XHRcdGlmKGFbcHJvcE5hbWVdICE9PSBiW3Byb3BOYW1lXSkgcmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cclxuXHRpbml0LmNhbGwodGhpcyk7XHJcblxyXG5cdGZ1bmN0aW9uIHNldEFyZ3Mob3B0cykge1xyXG4gICAgICAgIGZvcihsZXQga2V5IGluIGRlZmF1bHRzKSB0aGlzW2tleV0gPSAob3B0c1trZXldKSA/IG9wdHNba2V5XSA6IGRlZmF1bHRzW2tleV0gO1xyXG4gICAgfTtcclxuXHJcblx0cmV0dXJuIE9iamVjdC5mcmVlemUodGhpcyk7XHJcbiB9XHJcblxyXG5cclxuLyogU3ByZWFkIGl0IHRvIHRoZSB3b3JsZCEgKi9cclxuIChmdW5jdGlvbiBGYWN0b3J5IChmYWN0b3J5KSB7XHJcbiAgICBpZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIGRlZmluZSgnQ2hvb3NlQnVtcHMnLCBmYWN0b3J5KTtcclxuICAgIGVsc2UgaWYgKCB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgKSBtb2R1bGUuZXhwb3J0cyA9IGZhY3Rvcnk7XHJcbiAgICBlbHNlIHdpbmRvdy5DaG9vc2VCdW1wcyA9IGZhY3Rvcnk7XHJcbn0pKENob29zZUJ1bXBzKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
