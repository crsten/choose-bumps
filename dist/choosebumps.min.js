"use strict";function ChooseBumps(e,t){function n(){this.element=e,A.classList.add("choosebumps"),A.setAttribute("tabindex",0),A.getAttribute("placeholder")&&($.placeholder=A.getAttribute("placeholder")),v(),q.call(this,t||{})}function r(e){return"string"!=typeof e?console.error("Placeholder must be a string."):(z=e,void A.querySelector(".cb-main-item").setAttribute("placeholder",z))}function o(e){P=!!e,P&&"object"===("undefined"==typeof j?"undefined":_typeof(j))&&j&&(j=[j])}function c(e){e="boolean"==typeof e?e:!B,e===!0?(S(),A.classList.add("cb-active"),w.scrollTop=0,document.addEventListener("click",c),document.addEventListener("keydown",l),document.addEventListener("keyup",i),g(),B=!0):(h(),A.classList.remove("cb-active"),document.removeEventListener("click",c),document.removeEventListener("keydown",l),document.removeEventListener("keyup",i),J=null,B=!1)}function i(e){27===e.keyCode&&c(!1)}function l(e){switch(new RegExp("38|40|13").test(e.keyCode)&&e.preventDefault(),e.keyCode){case 38:e.preventDefault(),a();break;case 40:e.preventDefault(),s();break;case 13:if("function"==typeof U&&J===-1)return U(e.target.value),e.target.value="";if(void 0===J||null===J||J<0)return c();p(Z[parseInt(w.children[J].getAttribute("data-id"),10)],!0),J=null}}function u(e,t,n){n&&n.stopPropagation(),j&&j.constructor===Array?(j.splice(j.indexOf(e),1),j.length||(j=null)):j=null,j||A.querySelector(".cb-main-item").classList.add("cb-placeholder"),X&&t&&X(e),b(),S()}function s(){null===J&&(J=-1);var e=w.children.length-1;J=J<e?J+1:e,d()}function a(){w.children.length-1;J=J?J-1:null,d()}function f(){if(J&&!(J<0)){var e=w.children[J],t=w.scrollTop,n=w.scrollTop+w.clientHeight,r=e.offsetTop,o=e.offsetTop+e.clientHeight;r<t?w.scrollTop=e.offsetTop:o>n&&(w.scrollTop=o-w.clientHeight)}}function d(){var e=w.querySelector(".cb-selected");e&&e.classList.remove("cb-selected");var t=w.children[J];t&&t.classList.add("cb-selected"),f()}function p(e,t,n){A.querySelector(".cb-main-item").classList.remove("cb-placeholder"),h(),P?(j&&j.indexOf(e)<0?j.push(e):j=[e],S(),n&&n.stopPropagation(),g()):(j=e,c(!1)),F&&t&&F(e),b()}function m(e){N=!!e,N?!function(){A.classList.add("cb-search-enabled");var e=document.createElement("input");e.className="cb-search",e.setAttribute("type","text"),e.setAttribute("size",1),e.setAttribute("autocomplete","off"),e.addEventListener("keyup",function(t){w.removeAttribute("no-results-text"),new RegExp("38|40|13").test(t.keyCode)===!1&&this.value.length>=Y&&(K&&clearTimeout(K),K=setTimeout(function(){y(e.value,function(t){/{{.*}}/gi.test(V)&&(Z=t),W&&(Z=t),!Z.length&&M&&w.setAttribute("no-results-text",M.replace("{{query}}",e.value)),S(t),J=null,s()})},200))}),e.addEventListener("keypress",function(){this.setAttribute("size",this.value.length+1)}),A.querySelector(".cb-main-item").appendChild(e)}():A.classList.remove("cb-search-enabled")}function h(){N&&(A.querySelector(".cb-search").value="")}function g(){N&&A.querySelector(".cb-search").focus()}function y(e,t){function n(e){return Object.keys(e).reduce(function(t,o){var c=!1;return c="object"===_typeof(e[o])?n(e[o]):r.test(e[o]),c&&(t=!0),t},!1)}if(!e)return Z;var r=new RegExp(e,"i");/{{.*}}/gi.test(V)?E(V.replace(/{{query}}/,e),t):W?(L(!0),W(e,function(e){t(G?G(e):e),L(!1)})):t(Z.filter(function(e){if(H){var t=!1;return H.split(" ").forEach(function(n){var o=n.split("."),c=o.reduce(function(e,t){return e[t]},e);r.test(c)&&(t=!0)}),t}return"string"==typeof e?r.test(e):n(e)}))}function v(){var e=document.createElement("div");e.className="cb-main-item cb-placeholder trigger";var t='<svg class="cb-caret trigger" viewBox="0 0 512 512" height="20" width="20">\n\t\t\t\t\t\t<path class="trigger" d="m508 108c-4-4-11-4-15 1l-237 271l-237-271c-4-5-11-5-15-1c-5 4-5 10-1 15l245 280c2 3 5 4 8 4c3 0 6-1 8-4l245-280c4-5 4-11-1-15z"></path>\n\t\t\t\t\t</svg>';e.innerHTML+=t,A.appendChild(e),w=document.createElement("div"),w.className="cb-items",A.appendChild(w),O=document.createElement("div"),O.className="cb-loader",A.appendChild(O),e.addEventListener("click",function(e){e.stopPropagation(),c(!B)}),A.addEventListener("keypress",function(e){13===e.keyCode&&c()})}function b(){var e=A.querySelector(".cb-main-item");if(P){if([].slice.call(A.querySelectorAll(".cb-main-item .cb-tag")).forEach(function(t){e.removeChild(t)}),!j)return;j.forEach(function(t){var n=document.createElement("div");n.className="cb-tag",n.innerHTML=k(t,D||_)+'<svg viewBox="0 0 512 512">\n\t\t\t\t\t\t<path d="m271 256l238-238c4-4 4-11 0-15c-4-4-11-4-15 0l-238 238l-238-238c-4-4-11-4-15 0c-4 4-4 11 0 15l238 238l-238 238c-4 4-4 11 0 15c2 2 5 3 8 3c2 0 5-1 7-3l238-238l238 238c2 2 5 3 7 3c3 0 6-1 8-3c4-4 4-11 0-15z"></path>\n\t\t\t\t\t</svg>',n.querySelector("svg").addEventListener("click",u.bind(null,t,!0)),e.insertBefore(n,e.children[e.children.length-1])})}else{if(!j)return[].slice.call(e.querySelectorAll(".cb-selected-item,.cb-tag")).forEach(function(t){return e.removeChild(t)});var t=document.createElement("div");t.className="cb-selected-item",t.innerHTML=k(j,I||_);var n=A.querySelector(".cb-selected-item");n&&e.removeChild(n),e.insertBefore(t,e.children[e.children.length-1])}}function E(e,t){Q&&(Q.abort(),L(!1)),Q=new XMLHttpRequest,Q.open("GET",e),Q.onreadystatechange=function(){4==this.readyState&&(L(!1),this.status>=200&&this.status<400?(t(G?G(JSON.parse(this.responseText)):JSON.parse(this.responseText)),Q=null):(t([]),Q=null))},Q.send(),L(!0)}function L(e){e?(O.style.display="block",A.querySelector(".cb-caret").style.display="none"):(O.style.display="",A.querySelector(".cb-caret").style.display="")}function S(e){w.innerHTML="",R&&(Z=Z.sort(function(e,t){return x(R,e)<x(R,t)?-1:x(R,e)>x(R,t)?1:0}));var t=null;Z.forEach(function(n,r){if(!(e&&e.indexOf(n)<0||P&&j&&j.indexOf(n)>-1||!P&&j===n)){var o=document.createElement("div");o.setAttribute("data-id",r),o.innerHTML=k(n,_),o.addEventListener("click",p.bind(null,n,!0)),!R||t&&x(R,t)===x(R,n)||o.setAttribute("category",x(R,n)),t=n,w.appendChild(o)}})}function k(e,t){for(var n=/{{data\.?(.+?)?}}/,r=void 0;r=n.exec(t);){var o="",c=e;r[1]&&(o="."+r[1],c=x(r[1],e));var i=new RegExp("{{data"+o+"}}");t=t.replace(i,c)}return t}function x(e,t){return e.split(".").reduce(function(e,t){return e[t]},t)}function C(e,t){if("object"!==("undefined"==typeof e?"undefined":_typeof(e))&&"object"!==("undefined"==typeof t?"undefined":_typeof(t)))return e===t;var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++){var c=n[o];if(e[c]!==t[c])return!1}return!0}function T(){if(j&&j.constructor===Array){var e=j.slice();e.forEach(function(e){u(e,!0)})}else u(j,!0);h()}function q(e){for(var t in $)this[t]=e[t]?e[t]:$[t]}if(this instanceof ChooseBumps==!1)return new ChooseBumps(e,t);var A=null,w=null,O=null,N=!1,j=null,B=!1,H=null,z=null,M=null,P=!1,R=null,_="",D=null,I=null,J=null,F=null,G=null,U=null,X=null,K=null,Q=null,V=null,W=null,Y=0,Z=[],$={placeholder:"Choose",items:[],search:!1,searchfields:"",noresults:"",multiple:!1,template:"{{data}}",tagtemplate:null,selectedtemplate:null,categorize:null,processing:null,minlength:null,onselect:null,onremove:null,onadd:null};return Object.defineProperties(this,{element:{get:function(){return A},set:function(e){if("string"==typeof e){var t=document.querySelector(e);t?A=t:console.error("Element not found.")}else e instanceof HTMLElement?A=e:console.error("Invalid argument")}},items:{get:function(){return V||W||Z},set:function(e){e instanceof Array?Z=e:"string"==typeof e?(V=e,/{{.*}}/gi.test(V)||E(V,function(e){Z=e})):"function"==typeof e?W=e:console.error("Items must be an array or URL.")}},minlength:{get:function(){return Y},set:function(e){Y=isNaN(e)?0:e}},search:{get:function(){return N},set:m},placeholder:{get:function(){return z},set:r},noresults:{get:function(){return M},set:function(e){M="string"==typeof e?e:null}},multiple:{get:function(){return P},set:o},selected:{get:function(){return j}},template:{get:function(){return _},set:function(e){"string"==typeof e?(_=e,S(),b()):console.error("Template must be a string.")}},tagtemplate:{get:function(){return D||_},set:function(e){"string"==typeof e&&(D=e,S(),b())}},selectedtemplate:{get:function(){return I||_},set:function(e){"string"==typeof e&&(I=e,S(),b())}},searchfields:{get:function(){return H},set:function(e){"string"==typeof e?H=e:console.error("SearchFields must be a string.")}},onselect:{get:function(){return F},set:function(e){"function"==typeof e?F=e:e||(F=null)}},processing:{get:function(){return G},set:function(e){"function"==typeof e?G=e:e||(G=null)}},onremove:{get:function(){return X},set:function(e){"function"==typeof e?X=e:e||(X=null)}},onadd:{get:function(){return U},set:function(e){"function"==typeof e?U=e:e||(U=null)}},categorize:{get:function(){return R},set:function(e){R="string"==typeof e?e:null,S()}}}),this.select=function(e){if(!e)return T();V&&/{{.*}}/gi.test(V)&&(Z=[e]);var t=Z.reduce(function(t,n){return t=C(e,n)?n:t},null);t&&p(t)},this.remove=function(e){if(!e)return T();var t=Z.reduce(function(t,n){return t=C(e,n)?n:t},null);t&&u(t,!0)},this.reset=T,n.call(this),Object.freeze(this)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define("ChooseBumps",e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:window.ChooseBumps=e}(ChooseBumps);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNob29zZWJ1bXBzLmpzIl0sIm5hbWVzIjpbIkNob29zZUJ1bXBzIiwiZWxlbWVudCIsIm9wdGlvbnMiLCJpbml0IiwidGhpcyIsIkVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJkZWZhdWx0cyIsInBsYWNlaG9sZGVyIiwicmVuZGVySFRNTCIsInNldEFyZ3MiLCJjYWxsIiwic2V0UGxhY2Vob2xkZXIiLCJ4IiwiY29uc29sZSIsImVycm9yIiwiUGxhY2Vob2xkZXIiLCJxdWVyeVNlbGVjdG9yIiwic2V0TXVsdGlwbGUiLCJzdGF0ZSIsIk11bHRpcGxlIiwiU2VsZWN0ZWQiLCJfdHlwZW9mIiwic2V0T3BlbmVkIiwiaXNPcGVuIiwicmVuZGVySXRlbXMiLCJJdGVtQ29udGFpbmVyIiwic2Nyb2xsVG9wIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiQXJyb3dOYXZpZ2F0aW9uIiwib25Fc2NhcGUiLCJmb2N1c1NlYXJjaCIsInJlc2V0U2VhcmNoIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlNlbGVjdGVkSW5kZXgiLCJlIiwia2V5Q29kZSIsIlJlZ0V4cCIsInRlc3QiLCJwcmV2ZW50RGVmYXVsdCIsInNlbGVjdFByZXYiLCJzZWxlY3ROZXh0Iiwib25BZGQiLCJ0YXJnZXQiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsInNlbGVjdEl0ZW0iLCJJdGVtcyIsInBhcnNlSW50IiwiY2hpbGRyZW4iLCJyZW1vdmVTZWxlY3RlZCIsIml0ZW0iLCJ0cmlnZ2VyQ2FsbGJhY2siLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImNvbnN0cnVjdG9yIiwiQXJyYXkiLCJzcGxpY2UiLCJpbmRleE9mIiwibGVuZ3RoIiwib25SZW1vdmUiLCJyZW5kZXJTZWxlY3Rpb24iLCJtYXgiLCJ1cGRhdGVTZWxlY3Rpb24iLCJzY3JvbGxTZWxlY3RlZEludG9WaWV3Iiwic2VsZWN0ZWRJdGVtIiwiY29udGFpbmVyVG9wIiwiY29udGFpbmVyQm90dG9tIiwiY2xpZW50SGVpZ2h0Iiwic2VsZWN0ZWRJdGVtVG9wIiwib2Zmc2V0VG9wIiwic2VsZWN0ZWRJdGVtQm90dG9tIiwib2xkU2VsZWN0aW9uIiwiZWwiLCJwdXNoIiwib25TZWxlY3QiLCJzZXRTZWFyY2giLCJTZWFyY2giLCJTZWFyY2hCb3giLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwicmVtb3ZlQXR0cmlidXRlIiwiTWluTGVuZ3RoIiwiVHlwZVRyZXNob2xkIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInNlYXJjaCIsInJlc3VsdCIsIkZldGNoVXJsIiwiSXRlbUZ1bmN0aW9uIiwiTm9SZXN1bHRzIiwicmVwbGFjZSIsImFwcGVuZENoaWxkIiwiZm9jdXMiLCJxdWVyeSIsImNiIiwic2VhcmNoT2JqZWN0Iiwib2JqIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsInZhbCIsImtleSIsImNoZWNrIiwicmVnZXgiLCJmZXRjaEl0ZW1zIiwidG9nZ2xlTG9hZGVyIiwiUHJvY2Vzc2luZyIsImZpbHRlciIsIlNlYXJjaEZpZWxkcyIsInNwbGl0IiwiZm9yRWFjaCIsImZpZWxkIiwiTWFpbkl0ZW0iLCJDYXJldCIsImlubmVySFRNTCIsIkxvYWRpbmdDb250YWluZXIiLCJtYWluSXRlbSIsInNsaWNlIiwicXVlcnlTZWxlY3RvckFsbCIsInQiLCJyZW1vdmVDaGlsZCIsInRhZyIsInBhcnNlVGVtcGxhdGUiLCJUYWdUZW1wbGF0ZSIsIlRlbXBsYXRlIiwiYmluZCIsImluc2VydEJlZm9yZSIsIlNlbGVjdGVkVGVtcGxhdGUiLCJwcmV2aW91c0l0ZW0iLCJ1cmwiLCJGZXRjaCIsImFib3J0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsInNlbmQiLCJzdHlsZSIsImRpc3BsYXkiLCJpdGVtcyIsIkNhdGVnb3JpemUiLCJzb3J0IiwiYSIsImIiLCJnZXRQcm9wZXJ0eUJ5U3RyaW5nIiwiaW5kZXgiLCJvcHRpb24iLCJkYXRhIiwidGVtcGxhdGUiLCJyZSIsIm0iLCJleGVjIiwic2VsZWN0b3IiLCJvYmplY3QiLCJpc0VxdWl2YWxlbnQiLCJhUHJvcHMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiYlByb3BzIiwiaSIsInByb3BOYW1lIiwiUmVzZXQiLCJjb3B5Iiwib3B0cyIsInNlYXJjaGZpZWxkcyIsIm5vcmVzdWx0cyIsIm11bHRpcGxlIiwidGFndGVtcGxhdGUiLCJzZWxlY3RlZHRlbXBsYXRlIiwiY2F0ZWdvcml6ZSIsInByb2Nlc3NpbmciLCJtaW5sZW5ndGgiLCJvbnNlbGVjdCIsIm9ucmVtb3ZlIiwib25hZGQiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZ2V0Iiwic2V0IiwiSFRNTEVsZW1lbnQiLCJpc05hTiIsInNlbGVjdGVkIiwic2VsZWN0IiwibWF0Y2giLCJyZXNldCIsImZyZWV6ZSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJ3aW5kb3ciXSwibWFwcGluZ3MiOiJBQUFBLFlBUUEsU0FBU0EsYUFBWUMsRUFBUUMsR0ErQzVCLFFBQVNDLEtBQ1JDLEtBQUtILFFBQVVBLEVBQ2ZJLEVBQVFDLFVBQVVDLElBQUksZUFDdEJGLEVBQVFHLGFBQWEsV0FBVyxHQUM3QkgsRUFBUUksYUFBYSxpQkFBZ0JDLEVBQVNDLFlBQWNOLEVBQVFJLGFBQWEsZ0JBQ3BGRyxJQUVBQyxFQUFRQyxLQUFLVixLQUFLRixPQUduQixRQUFTYSxHQUFlQyxHQUN2QixNQUFnQixnQkFBTkEsR0FBdUJDLFFBQVFDLE1BQU0sa0NBQy9DQyxFQUFjSCxNQUNkWCxHQUFRZSxjQUFjLGlCQUFpQlosYUFBYSxjQUFjVyxJQUduRSxRQUFTRSxHQUFZQyxHQUNwQkMsSUFBV0QsRUFDUkMsR0FBaUMsWUFBYixtQkFBQUMsR0FBQSxZQUFBQyxRQUFBRCxLQUF5QkEs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SUFBSXFCLEdBQVEzSSxFQUFNcUQsT0FBTyxTQUFDdUQsRUFBRVEsR0FZM0IsTUFaaUNSLEdBQUlJLEVBQWE1RyxFQUFLZ0gsR0FBS0EsRUFBSVIsR0FBRSxLQUNoRStCLElBQU94SSxFQUFld0ksR0FBTSxJQStCaEMzTCxLQUFLNEwsTUFBUXRCLEVBR2J2SyxFQUFLVyxLQUFLVixNQU1IbUcsT0FBTzBGLE9BQU83TCxNQTNuQnRCLEdBQUlxQixTQUE0QixrQkFBWHlLLFNBQW9ELGdCQUFwQkEsUUFBT0MsU0FBd0IsU0FBVTdGLEdBQU8sYUFBY0EsSUFBUyxTQUFVQSxHQUFPLE1BQU9BLElBQXlCLGtCQUFYNEYsU0FBeUI1RixFQUFJMUMsY0FBZ0JzSSxPQUFTLGVBQWtCNUYsS0Fnb0J6TyxTQUFtQjhGLEdBQ08sa0JBQVhDLFNBQXlCQSxPQUFPQyxJQUFNRCxPQUFPLGNBQWVELEdBQzNDLFlBQVosbUJBQUFHLFNBQUEsWUFBQTlLLFFBQUE4SyxVQUF1QkMsT0FBT0QsUUFBVUgsRUFDcERLLE9BQU96TSxZQUFjb00sR0FDM0JwTSIsImZpbGUiOiJjaG9vc2VidW1wcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qICBDaG9vc2VCdW1wc1xyXG4gKiAgQSBkcm9wZG93biBzbyBzaW1wbGUgaXQgd2lsbCBnaXZlIHlvdSBjaG9vc2UtYnVtcHMhXHJcbiAqICBBdXRob3I6IGNhci5qYWNvYnNlbkBnbWFpbC5jb21cclxuICogIExpY2Vuc2U6IE1JVFxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIENob29zZUJ1bXBzKGVsZW1lbnQsb3B0aW9ucykge1xyXG5cdGlmKHRoaXMgaW5zdGFuY2VvZiBDaG9vc2VCdW1wcyA9PT0gZmFsc2UpIHJldHVybiBuZXcgQ2hvb3NlQnVtcHMoZWxlbWVudCxvcHRpb25zKTtcclxuXHJcblx0bGV0IEVsZW1lbnQgPSBudWxsO1xyXG5cdGxldCBJdGVtQ29udGFpbmVyID0gbnVsbDtcclxuXHRsZXQgTG9hZGluZ0NvbnRhaW5lciA9IG51bGw7XHJcblx0bGV0IFNlYXJjaCA9IGZhbHNlO1xyXG5cdGxldCBTZWxlY3RlZCA9IG51bGw7XHJcblx0bGV0IGlzT3BlbiA9IGZhbHNlO1xyXG5cdGxldCBTZWFyY2hGaWVsZHMgPSBudWxsO1xyXG5cdGxldCBQbGFjZWhvbGRlciA9IG51bGw7XHJcblx0bGV0IE5vUmVzdWx0cyA9IG51bGw7XHJcblx0bGV0IE11bHRpcGxlID0gZmFsc2U7XHJcblx0bGV0IENhdGVnb3JpemUgPSBudWxsO1xyXG5cdGxldCBUZW1wbGF0ZSA9ICcnO1xyXG5cdGxldCBUYWdUZW1wbGF0ZSA9IG51bGw7XHJcblx0bGV0IFNlbGVjdGVkVGVtcGxhdGUgPSBudWxsO1xyXG5cdGxldCBTZWxlY3RlZEluZGV4ID0gbnVsbDtcclxuXHRsZXQgb25TZWxlY3QgPSBudWxsO1xyXG5cdGxldCBQcm9jZXNzaW5nID0gbnVsbDtcclxuXHRsZXQgb25BZGQgPSBudWxsO1xyXG5cdGxldCBvblJlbW92ZSA9IG51bGw7XHJcblx0bGV0IFR5cGVUcmVzaG9sZCA9IG51bGw7XHJcblx0bGV0IEZldGNoID0gbnVsbDtcclxuXHRsZXQgRmV0Y2hVcmwgPSBudWxsO1xyXG5cdGxldCBJdGVtRnVuY3Rpb24gPSBudWxsO1xyXG5cdGxldCBNaW5MZW5ndGggPSAwO1xyXG5cdGxldCBJdGVtcyA9IFtdO1xyXG5cclxuXHRsZXQgZGVmYXVsdHMgPSB7XHJcblx0XHRwbGFjZWhvbGRlcjogJ0Nob29zZScsXHJcblx0XHRpdGVtczogW10sXHJcblx0XHRzZWFyY2g6IGZhbHNlLFxyXG5cdFx0c2VhcmNoZmllbGRzOiAnJyxcclxuXHRcdG5vcmVzdWx0czogJycsXHJcblx0XHRtdWx0aXBsZTogZmFsc2UsXHJcblx0XHR0ZW1wbGF0ZTogJ3t7ZGF0YX19JyxcclxuXHRcdHRhZ3RlbXBsYXRlOiBudWxsLFxyXG5cdFx0c2VsZWN0ZWR0ZW1wbGF0ZTogbnVsbCxcclxuXHRcdGNhdGVnb3JpemU6IG51bGwsXHJcblx0XHRwcm9jZXNzaW5nOiBudWxsLFxyXG5cdFx0bWlubGVuZ3RoOiBudWxsLFxyXG5cdFx0b25zZWxlY3Q6IG51bGwsXHJcblx0XHRvbnJlbW92ZTogbnVsbCxcclxuXHRcdG9uYWRkOiBudWxsXHJcblx0fTtcclxuXHJcblx0ZnVuY3Rpb24gaW5pdCgpIHtcclxuXHRcdHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcblx0XHRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Nob29zZWJ1bXBzJyk7XHJcblx0XHRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLDApO1xyXG5cdFx0aWYoRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJykpIGRlZmF1bHRzLnBsYWNlaG9sZGVyID0gRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyk7XHJcblx0XHRyZW5kZXJIVE1MKCk7XHJcblxyXG5cdFx0c2V0QXJncy5jYWxsKHRoaXMsb3B0aW9ucyB8fCB7fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBzZXRQbGFjZWhvbGRlcih4KSB7XHJcblx0XHRpZih0eXBlb2YgeCAhPT0gJ3N0cmluZycpIHJldHVybiBjb25zb2xlLmVycm9yKCdQbGFjZWhvbGRlciBtdXN0IGJlIGEgc3RyaW5nLicpO1xyXG5cdFx0UGxhY2Vob2xkZXIgPSB4O1xyXG5cdFx0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2ItbWFpbi1pdGVtJykuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsUGxhY2Vob2xkZXIpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc2V0TXVsdGlwbGUoc3RhdGUpIHtcclxuXHRcdE11bHRpcGxlID0gKHN0YXRlKSA/IHRydWUgOiBmYWxzZTtcclxuXHRcdGlmKE11bHRpcGxlKSBpZih0eXBlb2YgU2VsZWN0ZWQgPT09ICdvYmplY3QnICYmIFNlbGVjdGVkKSBTZWxlY3RlZCA9IFtTZWxlY3RlZF07XHJcblx0fVxyXG5cclxuXHQvKiBJbnRlcmFjdGlvbnMgKi9cclxuXHJcblx0ZnVuY3Rpb24gc2V0T3BlbmVkKHN0YXRlKSB7XHJcblx0XHRzdGF0ZSA9ICh0eXBlb2Ygc3RhdGUgPT09ICdib29sZWFuJykgPyBzdGF0ZSA6ICFpc09wZW4gO1xyXG5cdFx0aWYoc3RhdGUgPT09IHRydWUpIHtcclxuXHRcdFx0cmVuZGVySXRlbXMoKTtcclxuXHRcdFx0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjYi1hY3RpdmUnKTtcclxuXHRcdFx0SXRlbUNvbnRhaW5lci5zY3JvbGxUb3AgPSAwO1xyXG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsc2V0T3BlbmVkKTtcclxuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsQXJyb3dOYXZpZ2F0aW9uKTtcclxuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBvbkVzY2FwZSk7XHJcblx0XHRcdGZvY3VzU2VhcmNoKCk7XHJcblx0XHRcdGlzT3BlbiA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0cmVzZXRTZWFyY2goKTtcclxuXHRcdFx0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdjYi1hY3RpdmUnKTtcclxuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLHNldE9wZW5lZCk7XHJcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLEFycm93TmF2aWdhdGlvbik7XHJcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgb25Fc2NhcGUpO1xyXG5cdFx0XHRTZWxlY3RlZEluZGV4ID0gbnVsbDtcclxuXHRcdFx0aXNPcGVuID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBvbkVzY2FwZShlKXtcclxuXHRcdGlmKGUua2V5Q29kZSA9PT0gMjcpIHNldE9wZW5lZChmYWxzZSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBBcnJvd05hdmlnYXRpb24oZSkge1xyXG5cdFx0aWYobmV3IFJlZ0V4cCgnMzh8NDB8MTMnKS50ZXN0KGUua2V5Q29kZSkpIGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdHN3aXRjaChlLmtleUNvZGUpIHtcclxuXHRcdFx0Y2FzZSAzODpcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRzZWxlY3RQcmV2KCk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIDQwOlxyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHNlbGVjdE5leHQoKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgMTM6XHJcblx0XHRcdGlmKHR5cGVvZiBvbkFkZCA9PT0gJ2Z1bmN0aW9uJyAmJiBTZWxlY3RlZEluZGV4ID09PSAtMSl7XHJcblx0XHRcdFx0b25BZGQoZS50YXJnZXQudmFsdWUpO1xyXG5cdFx0XHRcdHJldHVybiBlLnRhcmdldC52YWx1ZSA9ICcnO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKFNlbGVjdGVkSW5kZXggPT09IHVuZGVmaW5lZCB8fCBTZWxlY3RlZEluZGV4ID09PSBudWxsIHx8IFNlbGVjdGVkSW5kZXggPCAwKSB7XHJcblx0XHRcdFx0cmV0dXJuIHNldE9wZW5lZCgpO1xyXG5cdFx0XHR9O1xyXG5cdFx0XHRzZWxlY3RJdGVtKEl0ZW1zW3BhcnNlSW50KEl0ZW1Db250YWluZXIuY2hpbGRyZW5bU2VsZWN0ZWRJbmRleF0uZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyksMTApXSx0cnVlKTtcclxuXHRcdFx0U2VsZWN0ZWRJbmRleCA9IG51bGw7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyogU2VsZWN0aW5nICovXHJcblxyXG5cdGZ1bmN0aW9uIHJlbW92ZVNlbGVjdGVkKGl0ZW0sdHJpZ2dlckNhbGxiYWNrLGV2ZW50KSB7XHJcblx0XHRpZihldmVudCkgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRpZihTZWxlY3RlZCAmJiBTZWxlY3RlZC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0U2VsZWN0ZWQuc3BsaWNlKFNlbGVjdGVkLmluZGV4T2YoaXRlbSksMSk7XHJcblx0XHRcdGlmKCFTZWxlY3RlZC5sZW5ndGgpIFNlbGVjdGVkID0gbnVsbDtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRTZWxlY3RlZCA9IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoIVNlbGVjdGVkKSBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYi1tYWluLWl0ZW0nKS5jbGFzc0xpc3QuYWRkKCdjYi1wbGFjZWhvbGRlcicpO1xyXG5cdFx0aWYob25SZW1vdmUgJiYgdHJpZ2dlckNhbGxiYWNrKSBvblJlbW92ZShpdGVtKTtcclxuXHRcdHJlbmRlclNlbGVjdGlvbigpO1xyXG5cdFx0cmVuZGVySXRlbXMoKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHNlbGVjdE5leHQoKSB7XHJcbiAgICAgICAgaWYoU2VsZWN0ZWRJbmRleCA9PT0gbnVsbCkgU2VsZWN0ZWRJbmRleCA9IC0xO1xyXG4gICAgICAgIGxldCBtYXggPSBJdGVtQ29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgICAgIFNlbGVjdGVkSW5kZXggPSAoU2VsZWN0ZWRJbmRleCA8IG1heCkgPyBTZWxlY3RlZEluZGV4ICsgMSA6IG1heDtcclxuICAgICAgICB1cGRhdGVTZWxlY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RQcmV2KCkge1xyXG4gICAgICAgIGxldCBtYXggPSBJdGVtQ29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgICAgIFNlbGVjdGVkSW5kZXggPSAoIVNlbGVjdGVkSW5kZXgpID8gbnVsbCA6IFNlbGVjdGVkSW5kZXggLSAxO1xyXG4gICAgICAgIHVwZGF0ZVNlbGVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNjcm9sbFNlbGVjdGVkSW50b1ZpZXcoKSB7XHJcblx0XHRpZighU2VsZWN0ZWRJbmRleCB8fCBTZWxlY3RlZEluZGV4IDwgMCkgcmV0dXJuO1xyXG5cdFx0bGV0IHNlbGVjdGVkSXRlbSA9IEl0ZW1Db250YWluZXIuY2hpbGRyZW5bU2VsZWN0ZWRJbmRleF07XHJcblx0XHRsZXQgY29udGFpbmVyVG9wID0gSXRlbUNvbnRhaW5lci5zY3JvbGxUb3A7XHJcblx0XHRsZXQgY29udGFpbmVyQm90dG9tID0gSXRlbUNvbnRhaW5lci5zY3JvbGxUb3AgKyBJdGVtQ29udGFpbmVyLmNsaWVudEhlaWdodDtcclxuXHRcdGxldCBzZWxlY3RlZEl0ZW1Ub3AgPSBzZWxlY3RlZEl0ZW0ub2Zmc2V0VG9wO1xyXG5cdFx0bGV0IHNlbGVjdGVkSXRlbUJvdHRvbSA9IHNlbGVjdGVkSXRlbS5vZmZzZXRUb3AgKyBzZWxlY3RlZEl0ZW0uY2xpZW50SGVpZ2h0O1xyXG5cdFx0aWYoc2VsZWN0ZWRJdGVtVG9wIDwgY29udGFpbmVyVG9wKSBJdGVtQ29udGFpbmVyLnNjcm9sbFRvcCA9IHNlbGVjdGVkSXRlbS5vZmZzZXRUb3A7XHJcblx0XHRlbHNlIGlmKHNlbGVjdGVkSXRlbUJvdHRvbSA+IGNvbnRhaW5lckJvdHRvbSkgSXRlbUNvbnRhaW5lci5zY3JvbGxUb3AgPSBzZWxlY3RlZEl0ZW1Cb3R0b20gLSBJdGVtQ29udGFpbmVyLmNsaWVudEhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVTZWxlY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG9sZFNlbGVjdGlvbiA9IEl0ZW1Db250YWluZXIucXVlcnlTZWxlY3RvcignLmNiLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgaWYob2xkU2VsZWN0aW9uKSBvbGRTZWxlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnY2Itc2VsZWN0ZWQnKTtcclxuICAgICAgICBsZXQgZWwgPSBJdGVtQ29udGFpbmVyLmNoaWxkcmVuW1NlbGVjdGVkSW5kZXhdO1xyXG4gICAgICAgIGlmKGVsKSBlbC5jbGFzc0xpc3QuYWRkKCdjYi1zZWxlY3RlZCcpO1xyXG4gICAgICAgIHNjcm9sbFNlbGVjdGVkSW50b1ZpZXcoKTtcclxuICAgIH1cclxuXHJcblx0ZnVuY3Rpb24gc2VsZWN0SXRlbShpdGVtLHRyaWdnZXJDYWxsYmFjayxldmVudCkge1xyXG5cdFx0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2ItbWFpbi1pdGVtJykuY2xhc3NMaXN0LnJlbW92ZSgnY2ItcGxhY2Vob2xkZXInKTtcclxuXHRcdHJlc2V0U2VhcmNoKCk7XHJcblxyXG5cdFx0aWYoTXVsdGlwbGUpIHtcclxuXHRcdFx0aWYoU2VsZWN0ZWQgJiYgU2VsZWN0ZWQuaW5kZXhPZihpdGVtKSA8IDApIFNlbGVjdGVkLnB1c2goaXRlbSk7XHJcblx0XHRcdGVsc2UgU2VsZWN0ZWQgPSBbaXRlbV07XHJcblxyXG5cdFx0XHRyZW5kZXJJdGVtcygpO1xyXG5cdFx0XHRpZihldmVudCkgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdGZvY3VzU2VhcmNoKCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0U2VsZWN0ZWQgPSBpdGVtO1xyXG5cdFx0XHRzZXRPcGVuZWQoZmFsc2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmKG9uU2VsZWN0ICYmIHRyaWdnZXJDYWxsYmFjaykgb25TZWxlY3QoaXRlbSk7XHJcblx0XHRyZW5kZXJTZWxlY3Rpb24oKTtcclxuXHR9XHJcblxyXG5cdC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4gICAgLyogU2VhcmNoaW5nICovXHJcblxyXG4gICAgZnVuY3Rpb24gc2V0U2VhcmNoKHN0YXRlKSB7XHJcblx0XHRTZWFyY2ggPSAoc3RhdGUpID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuXHRcdGlmKFNlYXJjaCkge1xyXG5cdFx0XHRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NiLXNlYXJjaC1lbmFibGVkJyk7XHJcblx0XHRcdGxldCBTZWFyY2hCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG5cdFx0XHRcdFNlYXJjaEJveC5jbGFzc05hbWUgPSAnY2Itc2VhcmNoJztcclxuXHRcdFx0XHRTZWFyY2hCb3guc2V0QXR0cmlidXRlKCd0eXBlJywndGV4dCcpO1xyXG5cdFx0XHRcdFNlYXJjaEJveC5zZXRBdHRyaWJ1dGUoJ3NpemUnLDEpO1xyXG5cdFx0XHRcdFNlYXJjaEJveC5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsJ29mZicpO1xyXG5cclxuXHRcdFx0XHRTZWFyY2hCb3guYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLGZ1bmN0aW9uIEtleVVwKGUpIHtcclxuXHRcdFx0XHRcdEl0ZW1Db250YWluZXIucmVtb3ZlQXR0cmlidXRlKCduby1yZXN1bHRzLXRleHQnKTtcclxuXHRcdFx0XHRcdGlmKG5ldyBSZWdFeHAoJzM4fDQwfDEzJykudGVzdChlLmtleUNvZGUpID09PSBmYWxzZSAmJiB0aGlzLnZhbHVlLmxlbmd0aCA+PSBNaW5MZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0VHlwZVRyZXNob2xkICYmIGNsZWFyVGltZW91dChUeXBlVHJlc2hvbGQpO1xyXG5cdFx0XHRcdFx0XHRUeXBlVHJlc2hvbGQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRcdFx0c2VhcmNoKFNlYXJjaEJveC52YWx1ZSxmdW5jdGlvbihyZXN1bHQpe1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYoL3t7Lip9fS9pZy50ZXN0KEZldGNoVXJsKSkgSXRlbXMgPSByZXN1bHQ7XHJcblx0XHRcdFx0XHRcdFx0XHRpZihJdGVtRnVuY3Rpb24pIEl0ZW1zID0gcmVzdWx0O1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYoIUl0ZW1zLmxlbmd0aCAmJiBOb1Jlc3VsdHMpIEl0ZW1Db250YWluZXIuc2V0QXR0cmlidXRlKCduby1yZXN1bHRzLXRleHQnLE5vUmVzdWx0cy5yZXBsYWNlKCd7e3F1ZXJ5fX0nLFNlYXJjaEJveC52YWx1ZSkpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdHJlbmRlckl0ZW1zKHJlc3VsdCk7XHJcblx0XHRcdFx0XHRcdFx0XHRTZWxlY3RlZEluZGV4ID0gbnVsbDtcclxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdE5leHQoKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSwyMDApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRTZWFyY2hCb3guYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLGZ1bmN0aW9uIEtleVByZXNzKCkge1xyXG5cdFx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUoJ3NpemUnLHRoaXMudmFsdWUubGVuZ3RoICsgMSk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYi1tYWluLWl0ZW0nKS5hcHBlbmRDaGlsZChTZWFyY2hCb3gpO1xyXG5cdFx0fWVsc2UgRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdjYi1zZWFyY2gtZW5hYmxlZCcpO1xyXG5cdH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNldFNlYXJjaCgpIHtcclxuXHRcdGlmKCFTZWFyY2gpIHJldHVybjtcclxuXHRcdEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNiLXNlYXJjaCcpLnZhbHVlID0gJyc7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBmb2N1c1NlYXJjaCgpIHtcclxuXHRcdGlmKCFTZWFyY2gpIHJldHVybjtcclxuXHRcdEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNiLXNlYXJjaCcpLmZvY3VzKCk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBzZWFyY2gocXVlcnksY2IpIHtcclxuXHRcdGlmKCFxdWVyeSkgcmV0dXJuIEl0ZW1zO1xyXG5cdFx0bGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChxdWVyeSwnaScpO1xyXG5cclxuXHRcdGlmKC97ey4qfX0vaWcudGVzdChGZXRjaFVybCkpIHtcclxuXHRcdFx0ZmV0Y2hJdGVtcyhGZXRjaFVybC5yZXBsYWNlKC97e3F1ZXJ5fX0vLHF1ZXJ5KSxjYik7XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmKEl0ZW1GdW5jdGlvbil7XHJcblx0XHRcdHRvZ2dsZUxvYWRlcih0cnVlKTtcclxuXHRcdFx0SXRlbUZ1bmN0aW9uKHF1ZXJ5LCBmdW5jdGlvbihyZXN1bHQpe1xyXG5cdFx0XHRcdGNiKChQcm9jZXNzaW5nKSA/IFByb2Nlc3NpbmcocmVzdWx0KSA6IHJlc3VsdCk7XHJcblx0XHRcdFx0dG9nZ2xlTG9hZGVyKGZhbHNlKTtcclxuXHRcdFx0fSlcclxuXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0Y2IoSXRlbXMuZmlsdGVyKGZ1bmN0aW9uIEZpbHRlcih4KSB7XHJcblx0XHRcdFx0aWYoU2VhcmNoRmllbGRzKSB7XHJcblx0XHRcdFx0XHRsZXQgc3RhdGUgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFNlYXJjaEZpZWxkcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gRm9yRWFjaChmaWVsZCkge1xyXG5cdFx0XHRcdFx0XHRsZXQga2V5cyA9IGZpZWxkLnNwbGl0KCcuJyk7XHJcblx0XHRcdFx0XHRcdGxldCB2YWx1ZSA9IGtleXMucmVkdWNlKGZ1bmN0aW9uIFJlZHVjZSh2YWwsaXRlbSkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB2YWxbaXRlbV07XHJcblx0XHRcdFx0XHRcdH0seCk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZihyZWdleC50ZXN0KHZhbHVlKSkgc3RhdGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIHN0YXRlO1xyXG5cdFx0XHRcdH1lbHNlXHJcblx0XHRcdFx0aWYodHlwZW9mIHggPT09ICdzdHJpbmcnKSByZXR1cm4gcmVnZXgudGVzdCh4KTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRyZXR1cm4gc2VhcmNoT2JqZWN0KHgpO1xyXG5cdFx0XHR9KSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHJcblxyXG5cdFx0ZnVuY3Rpb24gc2VhcmNoT2JqZWN0KG9iaikge1xyXG5cdFx0XHRyZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoZnVuY3Rpb24gUmVkdWNlKHZhbCxrZXkpIHtcclxuXHRcdFx0XHRsZXQgY2hlY2sgPSBmYWxzZTtcclxuXHRcdFx0XHRpZih0eXBlb2Ygb2JqW2tleV0gPT09ICdvYmplY3QnKSBjaGVjayA9IHNlYXJjaE9iamVjdChvYmpba2V5XSk7XHJcblx0XHRcdFx0ZWxzZSBjaGVjayA9IHJlZ2V4LnRlc3Qob2JqW2tleV0pO1xyXG5cclxuXHRcdFx0XHRpZihjaGVjaykgdmFsID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHZhbDtcclxuXHRcdFx0fSxmYWxzZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuXHQvKiBSZW5kZXJpbmcgKi9cclxuXHJcblx0ZnVuY3Rpb24gcmVuZGVySFRNTCgpIHsgLy9jb21tZW50XHJcblx0XHRsZXQgTWFpbkl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0TWFpbkl0ZW0uY2xhc3NOYW1lID0gJ2NiLW1haW4taXRlbSBjYi1wbGFjZWhvbGRlciB0cmlnZ2VyJztcclxuXHJcblxyXG5cdFx0bGV0IENhcmV0ID0gYDxzdmcgY2xhc3M9XCJjYi1jYXJldCB0cmlnZ2VyXCIgdmlld0JveD1cIjAgMCA1MTIgNTEyXCIgaGVpZ2h0PVwiMjBcIiB3aWR0aD1cIjIwXCI+XHJcblx0XHRcdFx0XHRcdDxwYXRoIGNsYXNzPVwidHJpZ2dlclwiIGQ9XCJtNTA4IDEwOGMtNC00LTExLTQtMTUgMWwtMjM3IDI3MWwtMjM3LTI3MWMtNC01LTExLTUtMTUtMWMtNSA0LTUgMTAtMSAxNWwyNDUgMjgwYzIgMyA1IDQgOCA0YzMgMCA2LTEgOC00bDI0NS0yODBjNC01IDQtMTEtMS0xNXpcIj48L3BhdGg+XHJcblx0XHRcdFx0XHQ8L3N2Zz5gO1xyXG5cclxuXHRcdE1haW5JdGVtLmlubmVySFRNTCArPSBDYXJldDtcclxuXHRcdEVsZW1lbnQuYXBwZW5kQ2hpbGQoTWFpbkl0ZW0pO1xyXG5cclxuXHRcdEl0ZW1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdEl0ZW1Db250YWluZXIuY2xhc3NOYW1lID0gJ2NiLWl0ZW1zJztcclxuXHRcdEVsZW1lbnQuYXBwZW5kQ2hpbGQoSXRlbUNvbnRhaW5lcik7XHJcblxyXG5cdFx0TG9hZGluZ0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0TG9hZGluZ0NvbnRhaW5lci5jbGFzc05hbWUgPSAnY2ItbG9hZGVyJztcclxuXHRcdEVsZW1lbnQuYXBwZW5kQ2hpbGQoTG9hZGluZ0NvbnRhaW5lcik7XHJcblxyXG5cdFx0TWFpbkl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLChlKSA9PiB7XHJcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdHNldE9wZW5lZCghaXNPcGVuKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLChlKSA9PiB7XHJcblx0XHRcdGlmKGUua2V5Q29kZSA9PT0gMTMpIHNldE9wZW5lZCgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZW5kZXJTZWxlY3Rpb24oKSB7XHJcblxyXG5cdFx0bGV0IG1haW5JdGVtID0gRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2ItbWFpbi1pdGVtJyk7XHJcblxyXG5cdFx0aWYoTXVsdGlwbGUpIHtcclxuXHRcdFx0W10uc2xpY2UuY2FsbChFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYi1tYWluLWl0ZW0gLmNiLXRhZycpKS5mb3JFYWNoKCh0KSA9PiB7XHJcblx0XHRcdFx0bWFpbkl0ZW0ucmVtb3ZlQ2hpbGQodCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0aWYoIVNlbGVjdGVkKSByZXR1cm47XHJcblx0XHRcdFNlbGVjdGVkLmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRcdFx0bGV0IHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdFx0dGFnLmNsYXNzTmFtZSA9ICdjYi10YWcnO1xyXG5cdFx0XHRcdFx0dGFnLmlubmVySFRNTCA9IHBhcnNlVGVtcGxhdGUoaXRlbSxUYWdUZW1wbGF0ZSB8fCBUZW1wbGF0ZSkgKyBgPHN2ZyB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIj5cclxuXHRcdFx0XHRcdFx0PHBhdGggZD1cIm0yNzEgMjU2bDIzOC0yMzhjNC00IDQtMTEgMC0xNWMtNC00LTExLTQtMTUgMGwtMjM4IDIzOGwtMjM4LTIzOGMtNC00LTExLTQtMTUgMGMtNCA0LTQgMTEgMCAxNWwyMzggMjM4bC0yMzggMjM4Yy00IDQtNCAxMSAwIDE1YzIgMiA1IDMgOCAzYzIgMCA1LTEgNy0zbDIzOC0yMzhsMjM4IDIzOGMyIDIgNSAzIDcgM2MzIDAgNi0xIDgtM2M0LTQgNC0xMSAwLTE1elwiPjwvcGF0aD5cclxuXHRcdFx0XHRcdDwvc3ZnPmA7XHJcblxyXG5cdFx0XHRcdFx0dGFnLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxyZW1vdmVTZWxlY3RlZC5iaW5kKG51bGwsaXRlbSx0cnVlKSk7XHJcblxyXG5cdFx0XHRcdG1haW5JdGVtLmluc2VydEJlZm9yZSh0YWcsbWFpbkl0ZW0uY2hpbGRyZW5bbWFpbkl0ZW0uY2hpbGRyZW4ubGVuZ3RoIC0gMV0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmKCFTZWxlY3RlZCkgcmV0dXJuIFtdLnNsaWNlLmNhbGwobWFpbkl0ZW0ucXVlcnlTZWxlY3RvckFsbCgnLmNiLXNlbGVjdGVkLWl0ZW0sLmNiLXRhZycpKS5mb3JFYWNoKCBlID0+IG1haW5JdGVtLnJlbW92ZUNoaWxkKGUpKTtcclxuXHRcdFx0bGV0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0aXRlbS5jbGFzc05hbWUgPSAnY2Itc2VsZWN0ZWQtaXRlbSc7XHJcblx0XHRcdGl0ZW0uaW5uZXJIVE1MID0gcGFyc2VUZW1wbGF0ZShTZWxlY3RlZCxTZWxlY3RlZFRlbXBsYXRlIHx8IFRlbXBsYXRlKTtcclxuXHJcblx0XHRcdGxldCBwcmV2aW91c0l0ZW0gPSBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYi1zZWxlY3RlZC1pdGVtJyk7XHJcblx0XHRcdGlmKHByZXZpb3VzSXRlbSkgbWFpbkl0ZW0ucmVtb3ZlQ2hpbGQocHJldmlvdXNJdGVtKTtcclxuXHRcdFx0bWFpbkl0ZW0uaW5zZXJ0QmVmb3JlKGl0ZW0sbWFpbkl0ZW0uY2hpbGRyZW5bbWFpbkl0ZW0uY2hpbGRyZW4ubGVuZ3RoIC0gMV0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZmV0Y2hJdGVtcyh1cmwsY2IpIHtcclxuXHRcdGlmKEZldGNoKSB7XHJcblx0XHRcdEZldGNoLmFib3J0KCk7XHJcblx0XHRcdHRvZ2dsZUxvYWRlcihmYWxzZSk7XHJcblx0XHR9XHJcblx0XHRGZXRjaCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cdFx0RmV0Y2gub3BlbignR0VUJyx1cmwpO1xyXG5cdFx0RmV0Y2gub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYodGhpcy5yZWFkeVN0YXRlID09IDQpIHtcclxuXHRcdFx0XHR0b2dnbGVMb2FkZXIoZmFsc2UpO1xyXG5cdFx0XHRcdGlmKHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDQwMCkge1xyXG5cdFx0XHRcdFx0Y2IoKFByb2Nlc3NpbmcpID8gUHJvY2Vzc2luZyhKU09OLnBhcnNlKHRoaXMucmVzcG9uc2VUZXh0KSkgOiBKU09OLnBhcnNlKHRoaXMucmVzcG9uc2VUZXh0KSk7XHJcblx0XHRcdFx0XHRGZXRjaCA9IG51bGw7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRjYihbXSk7XHJcblx0XHRcdFx0XHRGZXRjaCA9IG51bGw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRGZXRjaC5zZW5kKCk7XHJcblx0XHR0b2dnbGVMb2FkZXIodHJ1ZSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB0b2dnbGVMb2FkZXIoc3RhdGUpIHtcclxuXHRcdGlmKHN0YXRlKSB7XHJcblx0XHRcdExvYWRpbmdDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRcdEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNiLWNhcmV0Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRMb2FkaW5nQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuXHRcdFx0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2ItY2FyZXQnKS5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZW5kZXJJdGVtcyhpdGVtcykge1xyXG5cdFx0SXRlbUNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuXHJcblx0XHRpZihDYXRlZ29yaXplKVxyXG5cdFx0XHRJdGVtcyA9IEl0ZW1zLnNvcnQoKGEsYikgPT4ge1xyXG5cdFx0XHRcdGlmKGdldFByb3BlcnR5QnlTdHJpbmcoQ2F0ZWdvcml6ZSxhKSA8IGdldFByb3BlcnR5QnlTdHJpbmcoQ2F0ZWdvcml6ZSxiKSkgcmV0dXJuIC0xO1xyXG5cdFx0XHRcdGlmKGdldFByb3BlcnR5QnlTdHJpbmcoQ2F0ZWdvcml6ZSxhKSA+IGdldFByb3BlcnR5QnlTdHJpbmcoQ2F0ZWdvcml6ZSxiKSkgcmV0dXJuIDE7XHJcblx0XHRcdFx0cmV0dXJuIDA7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdGxldCBwcmV2aW91c0l0ZW0gPSBudWxsO1xyXG5cdFx0SXRlbXMuZm9yRWFjaCgoaXRlbSxpbmRleCkgPT4ge1xyXG5cdFx0XHRpZihpdGVtcyAmJiBpdGVtcy5pbmRleE9mKGl0ZW0pIDwgMCkgcmV0dXJuO1xyXG5cdFx0XHRpZihNdWx0aXBsZSAmJiBTZWxlY3RlZCAmJiBTZWxlY3RlZC5pbmRleE9mKGl0ZW0pID4gLTEgfHwgIU11bHRpcGxlICYmIFNlbGVjdGVkID09PSBpdGVtKSByZXR1cm47XHJcblx0XHRcdGxldCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRvcHRpb24uc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgaW5kZXgpO1xyXG5cdFx0XHRcdG9wdGlvbi5pbm5lckhUTUwgPSBwYXJzZVRlbXBsYXRlKGl0ZW0sVGVtcGxhdGUpO1xyXG5cdFx0XHRcdG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsc2VsZWN0SXRlbS5iaW5kKG51bGwsaXRlbSx0cnVlKSk7XHJcblxyXG5cdFx0XHRpZihDYXRlZ29yaXplICYmICghcHJldmlvdXNJdGVtIHx8IGdldFByb3BlcnR5QnlTdHJpbmcoQ2F0ZWdvcml6ZSxwcmV2aW91c0l0ZW0pICE9PSBnZXRQcm9wZXJ0eUJ5U3RyaW5nKENhdGVnb3JpemUsaXRlbSkpKSBvcHRpb24uc2V0QXR0cmlidXRlKCdjYXRlZ29yeScsZ2V0UHJvcGVydHlCeVN0cmluZyhDYXRlZ29yaXplLGl0ZW0pKTtcclxuXHJcblx0XHRcdHByZXZpb3VzSXRlbSA9IGl0ZW07XHJcblx0XHRcdEl0ZW1Db250YWluZXIuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gcGFyc2VUZW1wbGF0ZShkYXRhLHRlbXBsYXRlKSB7XHJcblx0XHRsZXQgcmUgPSAve3tkYXRhXFwuPyguKz8pP319LztcclxuXHRcdGxldCBtO1xyXG5cdFx0d2hpbGUobSA9IHJlLmV4ZWModGVtcGxhdGUpKSB7XHJcblx0XHRcdGxldCBzZWxlY3RvciA9ICcnO1xyXG5cdFx0XHRsZXQgdmFsdWUgPSBkYXRhO1xyXG5cdFx0XHRpZihtWzFdKSB7XHJcblx0XHRcdFx0c2VsZWN0b3IgPSAnLicgKyBtWzFdO1xyXG5cdFx0XHRcdHZhbHVlID0gZ2V0UHJvcGVydHlCeVN0cmluZyhtWzFdLGRhdGEpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgcmVwbGFjZSA9IG5ldyBSZWdFeHAoJ3t7ZGF0YScgKyBzZWxlY3RvciArICd9fScpO1xyXG5cdFx0XHR0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UocmVwbGFjZSx2YWx1ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRlbXBsYXRlO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0UHJvcGVydHlCeVN0cmluZyhzZWxlY3RvcixvYmplY3QpIHtcclxuXHRcdHJldHVybiBzZWxlY3Rvci5zcGxpdCgnLicpLnJlZHVjZSgodmFsLGl0ZW0pID0+IHtcclxuXHRcdFx0cmV0dXJuIHZhbFtpdGVtXTtcclxuXHRcdH0sb2JqZWN0KTtcclxuXHR9XHJcblxyXG5cdC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse1xyXG5cdFx0J2VsZW1lbnQnOiB7XHJcblx0XHRcdGdldDogKCkgPT4gRWxlbWVudCxcclxuXHRcdFx0c2V0OiAoeCkgPT4ge1xyXG5cdFx0XHRcdGlmKHR5cGVvZiB4ID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdFx0bGV0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih4KTtcclxuXHRcdFx0XHRcdGlmKGVsKSBFbGVtZW50ID0gZWw7XHJcblx0XHRcdFx0XHRlbHNlIGNvbnNvbGUuZXJyb3IoJ0VsZW1lbnQgbm90IGZvdW5kLicpO1xyXG5cdFx0XHRcdH1lbHNlIGlmKHggaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgRWxlbWVudCA9IHg7XHJcblx0XHRcdFx0ZWxzZSBjb25zb2xlLmVycm9yKCdJbnZhbGlkIGFyZ3VtZW50Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQnaXRlbXMnOiB7XHJcblx0XHRcdGdldDogKCkgPT4gRmV0Y2hVcmwgfHwgSXRlbUZ1bmN0aW9uIHx8IEl0ZW1zLFxyXG5cdFx0XHRzZXQ6ICh4KSA9PiB7XHJcblx0XHRcdFx0aWYoeCBpbnN0YW5jZW9mIEFycmF5KSBJdGVtcyA9IHg7XHJcblx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgeCA9PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdFx0RmV0Y2hVcmwgPSB4XHJcblx0XHRcdFx0XHRpZighKC97ey4qfX0vaWcudGVzdChGZXRjaFVybCkpKSBmZXRjaEl0ZW1zKEZldGNoVXJsLGZ1bmN0aW9uKHJlc3VsdCkge1xyXG5cdFx0XHRcdFx0XHRJdGVtcyA9IHJlc3VsdDtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiB4ID09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdEl0ZW1GdW5jdGlvbiA9IHg7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgY29uc29sZS5lcnJvcignSXRlbXMgbXVzdCBiZSBhbiBhcnJheSBvciBVUkwuJyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQnbWlubGVuZ3RoJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IE1pbkxlbmd0aCxcclxuXHRcdFx0c2V0OiAoeCkgPT4ge1xyXG5cdFx0XHRcdGlmKGlzTmFOKHgpKSBNaW5MZW5ndGggPSAwO1xyXG5cdFx0XHRcdGVsc2UgTWluTGVuZ3RoID0geDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdCdzZWFyY2gnOiB7XHJcblx0XHRcdGdldDogKCkgPT4gU2VhcmNoLFxyXG5cdFx0XHRzZXQ6IHNldFNlYXJjaFxyXG5cdFx0fSxcclxuXHRcdCdwbGFjZWhvbGRlcic6IHtcclxuXHRcdFx0Z2V0OiAoKSA9PiBQbGFjZWhvbGRlcixcclxuXHRcdFx0c2V0OiBzZXRQbGFjZWhvbGRlclxyXG5cdFx0fSxcclxuXHRcdCdub3Jlc3VsdHMnOiB7XHJcblx0XHRcdGdldDogKCkgPT4gTm9SZXN1bHRzLFxyXG5cdFx0XHRzZXQ6ICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdGlmKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIE5vUmVzdWx0cyA9IHZhbHVlO1xyXG5cdFx0XHRcdGVsc2UgTm9SZXN1bHRzID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdCdtdWx0aXBsZSc6IHtcclxuXHRcdFx0Z2V0OiAoKSA9PiBNdWx0aXBsZSxcclxuXHRcdFx0c2V0OiBzZXRNdWx0aXBsZVxyXG5cdFx0fSxcclxuXHRcdCdzZWxlY3RlZCc6IHtcclxuXHRcdFx0Z2V0OiAoKSA9PiBTZWxlY3RlZFxyXG5cdFx0fSxcclxuXHRcdCd0ZW1wbGF0ZSc6IHtcclxuXHRcdFx0Z2V0OiAoKSA9PiBUZW1wbGF0ZSxcclxuXHRcdFx0c2V0OiAoeCkgPT4ge1xyXG5cdFx0XHRcdGlmKHR5cGVvZiB4ID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdFx0VGVtcGxhdGUgPSB4O1xyXG5cdFx0XHRcdFx0cmVuZGVySXRlbXMoKTtcclxuXHRcdFx0XHRcdHJlbmRlclNlbGVjdGlvbigpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGNvbnNvbGUuZXJyb3IoJ1RlbXBsYXRlIG11c3QgYmUgYSBzdHJpbmcuJyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQndGFndGVtcGxhdGUnOiB7XHJcblx0XHRcdGdldDogKCkgPT4gVGFnVGVtcGxhdGUgfHwgVGVtcGxhdGUsXHJcblx0XHRcdHNldDogKHgpID0+IHtcclxuXHRcdFx0XHRpZih0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdFRhZ1RlbXBsYXRlID0geDtcclxuXHRcdFx0XHRcdHJlbmRlckl0ZW1zKCk7XHJcblx0XHRcdFx0XHRyZW5kZXJTZWxlY3Rpb24oKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQnc2VsZWN0ZWR0ZW1wbGF0ZSc6IHtcclxuXHRcdFx0Z2V0OiAoKSA9PiBTZWxlY3RlZFRlbXBsYXRlIHx8IFRlbXBsYXRlLFxyXG5cdFx0XHRzZXQ6ICh4KSA9PiB7XHJcblx0XHRcdFx0aWYodHlwZW9mIHggPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0XHRTZWxlY3RlZFRlbXBsYXRlID0geDtcclxuXHRcdFx0XHRcdHJlbmRlckl0ZW1zKCk7XHJcblx0XHRcdFx0XHRyZW5kZXJTZWxlY3Rpb24oKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQnc2VhcmNoZmllbGRzJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IFNlYXJjaEZpZWxkcyxcclxuXHRcdFx0c2V0OiAoeCkgPT4ge1xyXG5cdFx0XHRcdGlmKHR5cGVvZiB4ID09PSAnc3RyaW5nJykgU2VhcmNoRmllbGRzID0geDtcclxuXHRcdFx0XHRlbHNlIGNvbnNvbGUuZXJyb3IoJ1NlYXJjaEZpZWxkcyBtdXN0IGJlIGEgc3RyaW5nLicpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J29uc2VsZWN0Jzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IG9uU2VsZWN0LFxyXG5cdFx0XHRzZXQ6ICh4KSA9PiB7XHJcblx0XHRcdFx0aWYodHlwZW9mIHggPT09ICdmdW5jdGlvbicpIG9uU2VsZWN0ID0geDtcclxuXHRcdFx0XHRlbHNlIGlmKCF4KSBvblNlbGVjdCA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQncHJvY2Vzc2luZyc6IHtcclxuXHRcdFx0Z2V0OiAoKSA9PiBQcm9jZXNzaW5nLFxyXG5cdFx0XHRzZXQ6ICh4KSA9PiB7XHJcblx0XHRcdFx0aWYodHlwZW9mIHggPT09ICdmdW5jdGlvbicpIFByb2Nlc3NpbmcgPSB4O1xyXG5cdFx0XHRcdGVsc2UgaWYoIXgpIFByb2Nlc3NpbmcgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J29ucmVtb3ZlJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IG9uUmVtb3ZlLFxyXG5cdFx0XHRzZXQ6ICh4KSA9PiB7XHJcblx0XHRcdFx0aWYodHlwZW9mIHggPT09ICdmdW5jdGlvbicpIG9uUmVtb3ZlID0geDtcclxuXHRcdFx0XHRlbHNlIGlmKCF4KSBvblJlbW92ZSA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQnb25hZGQnOiB7XHJcblx0XHRcdGdldDogKCkgPT4gb25BZGQsXHJcblx0XHRcdHNldDogKHgpID0+IHtcclxuXHRcdFx0XHRpZih0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJykgb25BZGQgPSB4O1xyXG5cdFx0XHRcdGVsc2UgaWYoIXgpIG9uQWRkID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdCdjYXRlZ29yaXplJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IENhdGVnb3JpemUsXHJcblx0XHRcdHNldDogKHgpID0+IHtcclxuXHRcdFx0XHRpZih0eXBlb2YgeCA9PT0gJ3N0cmluZycpIENhdGVnb3JpemUgPSB4O1xyXG5cdFx0XHRcdGVsc2UgQ2F0ZWdvcml6ZSA9IG51bGw7XHJcblxyXG5cdFx0XHRcdHJlbmRlckl0ZW1zKClcdDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHR0aGlzLnNlbGVjdCA9IGZ1bmN0aW9uIFNlbGVjdChpdGVtKSB7XHJcblx0XHRpZighaXRlbSkgcmV0dXJuIFJlc2V0KCk7XHJcblxyXG5cdFx0aWYoRmV0Y2hVcmwgJiYgL3t7Lip9fS9pZy50ZXN0KEZldGNoVXJsKSkge1xyXG5cdFx0XHRJdGVtcyA9IFtpdGVtXTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgbWF0Y2ggPSBJdGVtcy5yZWR1Y2UoKG0saSkgPT4gbSA9IGlzRXF1aXZhbGVudChpdGVtLGkpID8gaSA6IG0sbnVsbCk7XHJcblx0XHRpZihtYXRjaCkgc2VsZWN0SXRlbShtYXRjaCk7XHJcblx0fTtcclxuXHJcblx0dGhpcy5yZW1vdmUgPSBmdW5jdGlvbiBSZW1vdmUoaXRlbSkge1xyXG5cdFx0aWYoIWl0ZW0pIHJldHVybiBSZXNldCgpO1xyXG5cdFx0bGV0IG1hdGNoID0gSXRlbXMucmVkdWNlKChtLGkpID0+IG0gPSBpc0VxdWl2YWxlbnQoaXRlbSxpKSA/IGkgOiBtLG51bGwpO1xyXG5cdFx0aWYobWF0Y2gpIHJlbW92ZVNlbGVjdGVkKG1hdGNoLHRydWUpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gaXNFcXVpdmFsZW50KGEsIGIpIHtcclxuXHRcdGlmKHR5cGVvZiBhICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiAhPT0gJ29iamVjdCcpIHJldHVybiBhID09PSBiO1xyXG5cdFx0bGV0IGFQcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEpO1xyXG5cdFx0bGV0IGJQcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpO1xyXG5cclxuXHRcdGlmIChhUHJvcHMubGVuZ3RoICE9PSBiUHJvcHMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhUHJvcHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0bGV0IHByb3BOYW1lID0gYVByb3BzW2ldO1xyXG5cclxuXHRcdFx0aWYoYVtwcm9wTmFtZV0gIT09IGJbcHJvcE5hbWVdKSByZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIFJlc2V0KCkge1xyXG5cdFx0aWYoU2VsZWN0ZWQgJiYgU2VsZWN0ZWQuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdHZhciBjb3B5ID0gU2VsZWN0ZWQuc2xpY2UoKTtcclxuXHRcdFx0Y29weS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcclxuXHRcdFx0XHRyZW1vdmVTZWxlY3RlZChpdGVtLHRydWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZW1vdmVTZWxlY3RlZChTZWxlY3RlZCx0cnVlKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXNldFNlYXJjaCgpO1xyXG5cdH1cclxuXHJcblx0dGhpcy5yZXNldCA9IFJlc2V0O1xyXG5cclxuXHJcblx0aW5pdC5jYWxsKHRoaXMpO1xyXG5cclxuXHRmdW5jdGlvbiBzZXRBcmdzKG9wdHMpIHtcclxuICAgICAgICBmb3IobGV0IGtleSBpbiBkZWZhdWx0cykgdGhpc1trZXldID0gKG9wdHNba2V5XSkgPyBvcHRzW2tleV0gOiBkZWZhdWx0c1trZXldIDtcclxuICAgIH07XHJcblxyXG5cdHJldHVybiBPYmplY3QuZnJlZXplKHRoaXMpO1xyXG4gfVxyXG5cclxuXHJcbi8qIFNwcmVhZCBpdCB0byB0aGUgd29ybGQhICovXHJcbiAoZnVuY3Rpb24gRmFjdG9yeSAoZmFjdG9yeSkge1xyXG4gICAgaWYgKCB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSBkZWZpbmUoJ0Nob29zZUJ1bXBzJywgZmFjdG9yeSk7XHJcbiAgICBlbHNlIGlmICggdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICkgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5O1xyXG4gICAgZWxzZSB3aW5kb3cuQ2hvb3NlQnVtcHMgPSBmYWN0b3J5O1xyXG59KShDaG9vc2VCdW1wcyk7XHJcbiJdfQ==
