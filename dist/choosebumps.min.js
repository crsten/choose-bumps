"use strict";function ChooseBumps(e,t){function n(){this.element=e,x.classList.add("choosebumps"),x.setAttribute("tabindex",0),x.getAttribute("placeholder")&&($.placeholder=x.getAttribute("placeholder")),v(),q.call(this,t||{})}function r(e){return"string"!=typeof e?console.error("Placeholder must be a string."):(z=e,void x.querySelector(".cb-main-item").setAttribute("placeholder",z))}function o(e){P=!!e,P&&"object"===("undefined"==typeof j?"undefined":_typeof(j))&&j&&(j=[j])}function c(e){e="boolean"==typeof e?e:!B,e===!0?(S(),x.classList.add("cb-active"),w.scrollTop=0,document.addEventListener("click",c),document.addEventListener("keydown",l),document.addEventListener("keyup",i),g(),B=!0):(h(),x.classList.remove("cb-active"),document.removeEventListener("click",c),document.removeEventListener("keydown",l),document.removeEventListener("keyup",i),J=null,B=!1)}function i(e){27===e.keyCode&&c(!1)}function l(e){switch(new RegExp("38|40|13").test(e.keyCode)&&e.preventDefault(),e.keyCode){case 38:e.preventDefault(),a();break;case 40:e.preventDefault(),s();break;case 13:if("function"==typeof U&&J===-1)return U(e.target.value),e.target.value="";if(void 0===J||null===J||J<0)return c();p(Z[parseInt(w.children[J].getAttribute("data-id"),10)],!0),J=null}}function u(e,t,n){n&&n.stopPropagation(),j&&j.constructor===Array?(j.splice(j.indexOf(e),1),j.length||(j=null)):j=null,j||x.querySelector(".cb-main-item").classList.add("cb-placeholder"),X&&t&&X(e),b(),S()}function s(){null===J&&(J=-1);var e=w.children.length-1;J=J<e?J+1:e,d()}function a(){w.children.length-1;J=J?J-1:null,d()}function f(){if(J&&!(J<0)){var e=w.children[J],t=w.scrollTop,n=w.scrollTop+w.clientHeight,r=e.offsetTop,o=e.offsetTop+e.clientHeight;r<t?w.scrollTop=e.offsetTop:o>n&&(w.scrollTop=o-w.clientHeight)}}function d(){var e=w.querySelector(".cb-selected");e&&e.classList.remove("cb-selected");var t=w.children[J];t&&t.classList.add("cb-selected"),f()}function p(e,t,n){x.querySelector(".cb-main-item").classList.remove("cb-placeholder"),h(),P?(j&&j.reduce(function(t,n){return t||T(e,n)},!1)||(j?j.push(e):j=[e]),S(),n&&n.stopPropagation(),g()):(j=e,c(!1)),F&&t&&F(e),b()}function m(e){O=!!e,O?!function(){x.classList.add("cb-search-enabled");var e=document.createElement("input");e.className="cb-search",e.setAttribute("type","text"),e.setAttribute("size",1),e.setAttribute("autocomplete","off"),e.addEventListener("keyup",function(t){w.removeAttribute("no-results-text"),new RegExp("38|40|13").test(t.keyCode)===!1&&this.value.length>=Y&&(K&&clearTimeout(K),K=setTimeout(function(){y(e.value,function(t){/{{.*}}/gi.test(V)&&(Z=t),W&&(Z=t),!Z.length&&M&&w.setAttribute("no-results-text",M.replace("{{query}}",e.value)),S(t),J=null,s()})},200))}),e.addEventListener("keypress",function(){this.setAttribute("size",this.value.length+1)}),x.querySelector(".cb-main-item").appendChild(e)}():x.classList.remove("cb-search-enabled")}function h(){O&&(x.querySelector(".cb-search").value="")}function g(){O&&x.querySelector(".cb-search").focus()}function y(e,t){function n(e){return Object.keys(e).reduce(function(t,o){var c=!1;return c="object"===_typeof(e[o])?n(e[o]):r.test(e[o]),c&&(t=!0),t},!1)}if(!e)return Z;var r=new RegExp(e,"i");/{{.*}}/gi.test(V)?E(V.replace(/{{query}}/,e),t):W?(L(!0),W(e,function(e){t(G?G(e):e),L(!1)})):t(Z.filter(function(e){if(H){var t=!1;return H.split(" ").forEach(function(n){var o=n.split("."),c=o.reduce(function(e,t){return e[t]},e);r.test(c)&&(t=!0)}),t}return"string"==typeof e?r.test(e):n(e)}))}function v(){var e=document.createElement("div");e.className="cb-main-item cb-placeholder trigger";var t='<svg class="cb-caret trigger" viewBox="0 0 512 512" height="20" width="20">\n\t\t\t\t\t\t<path class="trigger" d="m508 108c-4-4-11-4-15 1l-237 271l-237-271c-4-5-11-5-15-1c-5 4-5 10-1 15l245 280c2 3 5 4 8 4c3 0 6-1 8-4l245-280c4-5 4-11-1-15z"></path>\n\t\t\t\t\t</svg>';e.innerHTML+=t,x.appendChild(e),w=document.createElement("div"),w.className="cb-items",x.appendChild(w),N=document.createElement("div"),N.className="cb-loader",x.appendChild(N),e.addEventListener("click",function(e){e.stopPropagation(),c(!B)}),x.addEventListener("keypress",function(e){13===e.keyCode&&c()})}function b(){var e=x.querySelector(".cb-main-item");if(P){if([].slice.call(x.querySelectorAll(".cb-main-item .cb-tag")).forEach(function(t){e.removeChild(t)}),!j)return;j.forEach(function(t){var n=document.createElement("div");n.className="cb-tag",n.innerHTML=k(t,D||_)+'<svg viewBox="0 0 512 512">\n\t\t\t\t\t\t<path d="m271 256l238-238c4-4 4-11 0-15c-4-4-11-4-15 0l-238 238l-238-238c-4-4-11-4-15 0c-4 4-4 11 0 15l238 238l-238 238c-4 4-4 11 0 15c2 2 5 3 8 3c2 0 5-1 7-3l238-238l238 238c2 2 5 3 7 3c3 0 6-1 8-3c4-4 4-11 0-15z"></path>\n\t\t\t\t\t</svg>',n.querySelector("svg").addEventListener("click",u.bind(null,t,!0)),e.insertBefore(n,e.children[e.children.length-1])})}else{if(!j)return[].slice.call(e.querySelectorAll(".cb-selected-item,.cb-tag")).forEach(function(t){return e.removeChild(t)});var t=document.createElement("div");t.className="cb-selected-item",t.innerHTML=k(j,I||_);var n=x.querySelector(".cb-selected-item");n&&e.removeChild(n),e.insertBefore(t,e.children[e.children.length-1])}}function E(e,t){Q&&(Q.abort(),L(!1)),Q=new XMLHttpRequest,Q.open("GET",e),Q.onreadystatechange=function(){4==this.readyState&&(L(!1),this.status>=200&&this.status<400?(t(G?G(JSON.parse(this.responseText)):JSON.parse(this.responseText)),Q=null):(t([]),Q=null))},Q.send(),L(!0)}function L(e){e?(N.style.display="block",x.querySelector(".cb-caret").style.display="none"):(N.style.display="",x.querySelector(".cb-caret").style.display="")}function S(e){w.innerHTML="",R&&(Z=Z.sort(function(e,t){return C(R,e)<C(R,t)?-1:C(R,e)>C(R,t)?1:0}));var t=null;Z.forEach(function(n,r){if(!(e&&e.indexOf(n)<0||P&&j&&j.reduce(function(e,t){return e||T(n,t)},!1)||!P&&j===n)){var o=document.createElement("div");o.setAttribute("data-id",r),o.innerHTML=k(n,_),o.addEventListener("click",p.bind(null,n,!0)),!R||t&&C(R,t)===C(R,n)||o.setAttribute("category",C(R,n)),t=n,w.appendChild(o)}})}function k(e,t){for(var n=/{{data\.?(.+?)?}}/,r=void 0;r=n.exec(t);){var o="",c=e;r[1]&&(o="."+r[1],c=C(r[1],e));var i=new RegExp("{{data"+o+"}}");t=t.replace(i,c)}return t}function C(e,t){return e.split(".").reduce(function(e,t){return e[t]},t)}function T(e,t){if("object"!==("undefined"==typeof e?"undefined":_typeof(e))&&"object"!==("undefined"==typeof t?"undefined":_typeof(t)))return e===t;var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++){var c=n[o];if(e[c]!==t[c])return!1}return!0}function A(){if(j&&j.constructor===Array){var e=j.slice();e.forEach(function(e){u(e,!0)})}else u(j,!0);h()}function q(e){for(var t in $)this[t]=e[t]?e[t]:$[t]}if(this instanceof ChooseBumps==!1)return new ChooseBumps(e,t);var x=null,w=null,N=null,O=!1,j=null,B=!1,H=null,z=null,M=null,P=!1,R=null,_="",D=null,I=null,J=null,F=null,G=null,U=null,X=null,K=null,Q=null,V=null,W=null,Y=0,Z=[],$={placeholder:"Choose",items:[],search:!1,searchfields:"",noresults:"",multiple:!1,template:"{{data}}",tagtemplate:null,selectedtemplate:null,categorize:null,processing:null,minlength:null,onselect:null,onremove:null,onadd:null};return Object.defineProperties(this,{element:{get:function(){return x},set:function(e){if("string"==typeof e){var t=document.querySelector(e);t?x=t:console.error("Element not found.")}else e instanceof HTMLElement?x=e:console.error("Invalid argument")}},items:{get:function(){return V||W||Z},set:function(e){e instanceof Array?Z=e:"string"==typeof e?(V=e,/{{.*}}/gi.test(V)||E(V,function(e){Z=e})):"function"==typeof e?(W=e,L(!0),W(null,function(e){Z=e instanceof Array?G?G(e):e:[],L(!1)})):console.error("Items must be an array or URL.")}},minlength:{get:function(){return Y},set:function(e){Y=isNaN(e)?0:e}},search:{get:function(){return O},set:m},placeholder:{get:function(){return z},set:r},noresults:{get:function(){return M},set:function(e){M="string"==typeof e?e:null}},multiple:{get:function(){return P},set:o},selected:{get:function(){return j}},template:{get:function(){return _},set:function(e){"string"==typeof e?(_=e,S(),b()):console.error("Template must be a string.")}},tagtemplate:{get:function(){return D||_},set:function(e){"string"==typeof e&&(D=e,S(),b())}},selectedtemplate:{get:function(){return I||_},set:function(e){"string"==typeof e&&(I=e,S(),b())}},searchfields:{get:function(){return H},set:function(e){"string"==typeof e?H=e:console.error("SearchFields must be a string.")}},onselect:{get:function(){return F},set:function(e){"function"==typeof e?F=e:e||(F=null)}},processing:{get:function(){return G},set:function(e){"function"==typeof e?G=e:e||(G=null)}},onremove:{get:function(){return X},set:function(e){"function"==typeof e?X=e:e||(X=null)}},onadd:{get:function(){return U},set:function(e){"function"==typeof e?U=e:e||(U=null)}},categorize:{get:function(){return R},set:function(e){R="string"==typeof e?e:null,S()}}}),this.select=function(e){if(!e)return A();V&&/{{.*}}/gi.test(V)&&(Z=[e]);var t=Z.length?Z.reduce(function(t,n){return t=T(e,n)?n:t},null):e;t&&p(t)},this.remove=function(e){if(!e)return A();var t=Z.reduce(function(t,n){return t=T(e,n)?n:t},null);t&&u(t,!0)},this.reset=A,n.call(this),Object.freeze(this)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define("ChooseBumps",e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:window.ChooseBumps=e}(ChooseBumps);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNob29zZWJ1bXBzLmpzIl0sIm5hbWVzIjpbIkNob29zZUJ1bXBzIiwiZWxlbWVudCIsIm9wdGlvbnMiLCJpbml0IiwidGhpcyIsIkVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJkZWZhdWx0cyIsInBsYWNlaG9sZGVyIiwicmVuZGVySFRNTCIsInNldEFyZ3MiLCJjYWxsIiwic2V0UGxhY2Vob2xkZXIiLCJ4IiwiY29uc29sZSIsImVycm9yIiwiUGxhY2Vob2xkZXIiLCJxdWVyeVNlbGVjdG9yIiwic2V0TXVsdGlwbGUiLCJzdGF0ZSIsIk11bHRpcGxlIiwiU2VsZWN0ZWQiLCJfdHlwZW9mIiwic2V0T3BlbmVkIiwiaXNPcGVuIiwicmVuZGVySXRlbXMiLCJJdGVtQ29udGFpbmVyIiwic2Nyb2xsVG9wIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiQXJyb3dOYXZpZ2F0aW9uIiwib25Fc2NhcGUiLCJmb2N1c1NlYXJjaCIsInJlc2V0U2VhcmNoIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlNlbGVjdGVkSW5kZXgiLCJlIiwia2V5Q29kZSIsIlJlZ0V4cCIsInRlc3QiLCJwcmV2ZW50RGVmYXVsdCIsInNlbGVjdFByZXYiLCJzZWxlY3ROZXh0Iiwib25BZGQiLCJ0YXJnZXQiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsInNlbGVjdEl0ZW0iLCJJdGVtcyIsInBhcnNlSW50IiwiY2hpbGRyZW4iLCJyZW1vdmVTZWxlY3RlZCIsIml0ZW0iLCJ0cmlnZ2VyQ2FsbGJhY2siLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImNvbnN0cnVjdG9yIiwiQXJyYXkiLCJzcGxpY2UiLCJpbmRleE9mIiwibGVuZ3RoIiwib25SZW1vdmUiLCJyZW5kZXJTZWxlY3Rpb24iLCJtYXgiLCJ1cGRhdGVTZWxlY3Rpb24iLCJzY3JvbGxTZWxlY3RlZEludG9WaWV3Iiwic2VsZWN0ZWRJdGVtIiwiY29udGFpbmVyVG9wIiwiY29udGFpbmVyQm90dG9tIiwiY2xpZW50SGVpZ2h0Iiwic2VsZWN0ZWRJdGVtVG9wIiwib2Zmc2V0VG9wIiwic2VsZWN0ZWRJdGVtQm90dG9tIiwib2xkU2VsZWN0aW9uIiwiZWwiLCJyZWR1Y2UiLCJtIiwiaSIsImlzRXF1aXZhbGVudCIsInB1c2giLCJvblNlbGVjdCIsInNldFNlYXJjaCIsIlNlYXJjaCIsIlNlYXJjaEJveCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJNaW5MZW5ndGgiLCJUeXBlVHJlc2hvbGQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic2VhcmNoIiwicmVzdWx0IiwiRmV0Y2hVcmwiLCJJdGVtRnVuY3Rpb24iLCJOb1Jlc3VsdHMiLCJyZXBsYWNlIiwiYXBwZW5kQ2hpbGQiLCJmb2N1cyIsInF1ZXJ5IiwiY2IiLCJzZWFyY2hPYmplY3QiLCJvYmoiLCJPYmplY3QiLCJrZXlzIiwidmFsIiwia2V5IiwiY2hlY2siLCJyZWdleCIsImZldGNoSXRlbXMiLCJ0b2dnbGVMb2FkZXIiLCJQcm9jZXNzaW5nIiwiZmlsdGVyIiwiU2VhcmNoRmllbGRzIiwic3BsaXQiLCJmb3JFYWNoIiwiZmllbGQiLCJNYWluSXRlbSIsIkNhcmV0IiwiaW5uZXJIVE1MIiwiTG9hZGluZ0NvbnRhaW5lciIsIm1haW5JdGVtIiwic2xpY2UiLCJxdWVyeVNlbGVjdG9yQWxsIiwidCIsInJlbW92ZUNoaWxkIiwidGFnIiwicGFyc2VUZW1wbGF0ZSIsIlRhZ1RlbXBsYXRlIiwiVGVtcGxhdGUiLCJiaW5kIiwiaW5zZXJ0QmVmb3JlIiwiU2VsZWN0ZWRUZW1wbGF0ZSIsInByZXZpb3VzSXRlbSIsInVybCIsIkZldGNoIiwiYWJvcnQiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0Iiwic2VuZCIsInN0eWxlIiwiZGlzcGxheSIsIml0ZW1zIiwiQ2F0ZWdvcml6ZSIsInNvcnQiLCJhIiwiYiIsImdldFByb3BlcnR5QnlTdHJpbmciLCJpbmRleCIsIm9wdGlvbiIsImRhdGEiLCJ0ZW1wbGF0ZSIsInJlIiwiZXhlYyIsInNlbGVjdG9yIiwib2JqZWN0IiwiYVByb3BzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImJQcm9wcyIsInByb3BOYW1lIiwiUmVzZXQiLCJjb3B5Iiwib3B0cyIsInNlYXJjaGZpZWxkcyIsIm5vcmVzdWx0cyIsIm11bHRpcGxlIiwidGFndGVtcGxhdGUiLCJzZWxlY3RlZHRlbXBsYXRlIiwiY2F0ZWdvcml6ZSIsInByb2Nlc3NpbmciLCJtaW5sZW5ndGgiLCJvbnNlbGVjdCIsIm9ucmVtb3ZlIiwib25hZGQiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZ2V0Iiwic2V0IiwiSFRNTEVsZW1lbnQiLCJpc05hTiIsInNlbGVjdGVkIiwic2VsZWN0IiwibWF0Y2giLCJyZXNldCIsImZyZWV6ZSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJ3aW5kb3ciXSwibWFwcGluZ3MiOiJBQUFBLFlBUUEsU0FBU0EsYUFBWUMsRUFBUUMsR0ErQzVCLFFBQVNDLEtBQ1JDLEtBQUtILFFBQVVBLEVBQ2ZJLEVBQVFDLFVBQVVDLElBQUksZUFDdEJGLEVBQVFHLGFBQWEsV0FBVyxHQUM3QkgsRUFBUUksYUFBYSxpQkFBZ0JDLEVBQVNDLFlBQWNOLEVBQVFJLGFBQWEsZ0JBQ3BGRyxJQUVBQyxFQUFRQyxLQUFLVixLQUFLRixPQUduQixRQUFTYSxHQUFlQyxHQUN2QixNQUFnQixnQkFBTkEsR0FBdUJDLFFBQVFDLE1BQU0sa0NBQy9DQyxFQUFjSCxNQUNkWCxHQUFRZSxjQUFjLGlCQUFpQlosYUFBYSxjQUFjVyxJQUduRSxRQUFTRSxHQUFZQyxHQUNwQkMsSUFBV0QsRUFDUkMsR0FBaUMsWUFBYixtQkFBQUMsR0FBQSxZQUFBQyxRQUFBRCxLQUF5QkEs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QUVkekUsSUFBWSxXQUFXdEQsS0FBS3NELEtBQzlCN0MsR0FBU0ksR0FHVixJQUFJdUksR0FBUTNJLEVBQU9ZLE9BQVVaLEVBQU0yQixPQUFPLFNBQUNDLEVBQUVDLEdBWTVDLE1BWmtERCxHQUFJRSxFQUFhMUIsRUFBS3lCLEdBQUtBLEVBQUlELEdBQUUsTUFBUXhCLENBQ3pGdUksSUFBTzVJLEVBQVc0SSxJQUd0QjNMLEtBQUtpQyxPQUFTLFNBQWdCbUIsR0FDN0IsSUFBSUEsRUFBTSxNQUFPa0gsSUFDakIsSUFBSXFCLEdBQVEzSSxFQUFNMkIsT0FBTyxTQUFDQyxFQUFFQyxHQWMzQixNQWRpQ0QsR0FBSUUsRUFBYTFCLEVBQUt5QixHQUFLQSxFQUFJRCxHQUFFLEtBQ2hFK0csSUFBT3hJLEVBQWV3SSxHQUFNLElBK0JoQzNMLEtBQUs0TCxNQUFRdEIsRUFHYnZLLEVBQUtXLEtBQUtWLE1BTUh1RyxPQUFPc0YsT0FBTzdMLE1BMW9CdEIsR0FBSXFCLFNBQTRCLGtCQUFYeUssU0FBb0QsZ0JBQXBCQSxRQUFPQyxTQUF3QixTQUFVekYsR0FBTyxhQUFjQSxJQUFTLFNBQVVBLEdBQU8sTUFBT0EsSUFBeUIsa0JBQVh3RixTQUF5QnhGLEVBQUk5QyxjQUFnQnNJLE9BQVMsZUFBa0J4RixLQStvQnpPLFNBQW1CMEYsR0FDTyxrQkFBWEMsU0FBeUJBLE9BQU9DLElBQU1ELE9BQU8sY0FBZUQsR0FDM0MsWUFBWixtQkFBQUcsU0FBQSxZQUFBOUssUUFBQThLLFVBQXVCQyxPQUFPRCxRQUFVSCxFQUNwREssT0FBT3pNLFlBQWNvTSxHQUMzQnBNIiwiZmlsZSI6ImNob29zZWJ1bXBzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxuLyogIENob29zZUJ1bXBzXHJcbiAqICBBIGRyb3Bkb3duIHNvIHNpbXBsZSBpdCB3aWxsIGdpdmUgeW91IGNob29zZS1idW1wcyFcclxuICogIEF1dGhvcjogY2FyLmphY29ic2VuQGdtYWlsLmNvbVxyXG4gKiAgTGljZW5zZTogTUlUXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gQ2hvb3NlQnVtcHMoZWxlbWVudCxvcHRpb25zKSB7XHJcblx0aWYodGhpcyBpbnN0YW5jZW9mIENob29zZUJ1bXBzID09PSBmYWxzZSkgcmV0dXJuIG5ldyBDaG9vc2VCdW1wcyhlbGVtZW50LG9wdGlvbnMpO1xyXG5cclxuXHRsZXQgRWxlbWVudCA9IG51bGw7XHJcblx0bGV0IEl0ZW1Db250YWluZXIgPSBudWxsO1xyXG5cdGxldCBMb2FkaW5nQ29udGFpbmVyID0gbnVsbDtcclxuXHRsZXQgU2VhcmNoID0gZmFsc2U7XHJcblx0bGV0IFNlbGVjdGVkID0gbnVsbDtcclxuXHRsZXQgaXNPcGVuID0gZmFsc2U7XHJcblx0bGV0IFNlYXJjaEZpZWxkcyA9IG51bGw7XHJcblx0bGV0IFBsYWNlaG9sZGVyID0gbnVsbDtcclxuXHRsZXQgTm9SZXN1bHRzID0gbnVsbDtcclxuXHRsZXQgTXVsdGlwbGUgPSBmYWxzZTtcclxuXHRsZXQgQ2F0ZWdvcml6ZSA9IG51bGw7XHJcblx0bGV0IFRlbXBsYXRlID0gJyc7XHJcblx0bGV0IFRhZ1RlbXBsYXRlID0gbnVsbDtcclxuXHRsZXQgU2VsZWN0ZWRUZW1wbGF0ZSA9IG51bGw7XHJcblx0bGV0IFNlbGVjdGVkSW5kZXggPSBudWxsO1xyXG5cdGxldCBvblNlbGVjdCA9IG51bGw7XHJcblx0bGV0IFByb2Nlc3NpbmcgPSBudWxsO1xyXG5cdGxldCBvbkFkZCA9IG51bGw7XHJcblx0bGV0IG9uUmVtb3ZlID0gbnVsbDtcclxuXHRsZXQgVHlwZVRyZXNob2xkID0gbnVsbDtcclxuXHRsZXQgRmV0Y2ggPSBudWxsO1xyXG5cdGxldCBGZXRjaFVybCA9IG51bGw7XHJcblx0bGV0IEl0ZW1GdW5jdGlvbiA9IG51bGw7XHJcblx0bGV0IE1pbkxlbmd0aCA9IDA7XHJcblx0bGV0IEl0ZW1zID0gW107XHJcblxyXG5cdGxldCBkZWZhdWx0cyA9IHtcclxuXHRcdHBsYWNlaG9sZGVyOiAnQ2hvb3NlJyxcclxuXHRcdGl0ZW1zOiBbXSxcclxuXHRcdHNlYXJjaDogZmFsc2UsXHJcblx0XHRzZWFyY2hmaWVsZHM6ICcnLFxyXG5cdFx0bm9yZXN1bHRzOiAnJyxcclxuXHRcdG11bHRpcGxlOiBmYWxzZSxcclxuXHRcdHRlbXBsYXRlOiAne3tkYXRhfX0nLFxyXG5cdFx0dGFndGVtcGxhdGU6IG51bGwsXHJcblx0XHRzZWxlY3RlZHRlbXBsYXRlOiBudWxsLFxyXG5cdFx0Y2F0ZWdvcml6ZTogbnVsbCxcclxuXHRcdHByb2Nlc3Npbmc6IG51bGwsXHJcblx0XHRtaW5sZW5ndGg6IG51bGwsXHJcblx0XHRvbnNlbGVjdDogbnVsbCxcclxuXHRcdG9ucmVtb3ZlOiBudWxsLFxyXG5cdFx0b25hZGQ6IG51bGxcclxuXHR9O1xyXG5cclxuXHRmdW5jdGlvbiBpbml0KCkge1xyXG5cdFx0dGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuXHRcdEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2hvb3NlYnVtcHMnKTtcclxuXHRcdEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsMCk7XHJcblx0XHRpZihFbGVtZW50LmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKSkgZGVmYXVsdHMucGxhY2Vob2xkZXIgPSBFbGVtZW50LmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKTtcclxuXHRcdHJlbmRlckhUTUwoKTtcclxuXHJcblx0XHRzZXRBcmdzLmNhbGwodGhpcyxvcHRpb25zIHx8IHt9KTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHNldFBsYWNlaG9sZGVyKHgpIHtcclxuXHRcdGlmKHR5cGVvZiB4ICE9PSAnc3RyaW5nJykgcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ1BsYWNlaG9sZGVyIG11c3QgYmUgYSBzdHJpbmcuJyk7XHJcblx0XHRQbGFjZWhvbGRlciA9IHg7XHJcblx0XHRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYi1tYWluLWl0ZW0nKS5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyxQbGFjZWhvbGRlcik7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBzZXRNdWx0aXBsZShzdGF0ZSkge1xyXG5cdFx0TXVsdGlwbGUgPSAoc3RhdGUpID8gdHJ1ZSA6IGZhbHNlO1xyXG5cdFx0aWYoTXVsdGlwbGUpIGlmKHR5cGVvZiBTZWxlY3RlZCA9PT0gJ29iamVjdCcgJiYgU2VsZWN0ZWQpIFNlbGVjdGVkID0gW1NlbGVjdGVkXTtcclxuXHR9XHJcblxyXG5cdC8qIEludGVyYWN0aW9ucyAqL1xyXG5cclxuXHRmdW5jdGlvbiBzZXRPcGVuZWQoc3RhdGUpIHtcclxuXHRcdHN0YXRlID0gKHR5cGVvZiBzdGF0ZSA9PT0gJ2Jvb2xlYW4nKSA/IHN0YXRlIDogIWlzT3BlbiA7XHJcblx0XHRpZihzdGF0ZSA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRyZW5kZXJJdGVtcygpO1xyXG5cdFx0XHRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NiLWFjdGl2ZScpO1xyXG5cdFx0XHRJdGVtQ29udGFpbmVyLnNjcm9sbFRvcCA9IDA7XHJcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzZXRPcGVuZWQpO1xyXG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJyxBcnJvd05hdmlnYXRpb24pO1xyXG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIG9uRXNjYXBlKTtcclxuXHRcdFx0Zm9jdXNTZWFyY2goKTtcclxuXHRcdFx0aXNPcGVuID0gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRyZXNldFNlYXJjaCgpO1xyXG5cdFx0XHRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2NiLWFjdGl2ZScpO1xyXG5cdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsc2V0T3BlbmVkKTtcclxuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsQXJyb3dOYXZpZ2F0aW9uKTtcclxuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBvbkVzY2FwZSk7XHJcblx0XHRcdFNlbGVjdGVkSW5kZXggPSBudWxsO1xyXG5cdFx0XHRpc09wZW4gPSBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIG9uRXNjYXBlKGUpe1xyXG5cdFx0aWYoZS5rZXlDb2RlID09PSAyNykgc2V0T3BlbmVkKGZhbHNlKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIEFycm93TmF2aWdhdGlvbihlKSB7XHJcblx0XHRpZihuZXcgUmVnRXhwKCczOHw0MHwxMycpLnRlc3QoZS5rZXlDb2RlKSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0c3dpdGNoKGUua2V5Q29kZSkge1xyXG5cdFx0XHRjYXNlIDM4OlxyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHNlbGVjdFByZXYoKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgNDA6XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0c2VsZWN0TmV4dCgpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAxMzpcclxuXHRcdFx0aWYodHlwZW9mIG9uQWRkID09PSAnZnVuY3Rpb24nICYmIFNlbGVjdGVkSW5kZXggPT09IC0xKXtcclxuXHRcdFx0XHRvbkFkZChlLnRhcmdldC52YWx1ZSk7XHJcblx0XHRcdFx0cmV0dXJuIGUudGFyZ2V0LnZhbHVlID0gJyc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoU2VsZWN0ZWRJbmRleCA9PT0gdW5kZWZpbmVkIHx8IFNlbGVjdGVkSW5kZXggPT09IG51bGwgfHwgU2VsZWN0ZWRJbmRleCA8IDApIHtcclxuXHRcdFx0XHRyZXR1cm4gc2V0T3BlbmVkKCk7XHJcblx0XHRcdH07XHJcblx0XHRcdHNlbGVjdEl0ZW0oSXRlbXNbcGFyc2VJbnQoSXRlbUNvbnRhaW5lci5jaGlsZHJlbltTZWxlY3RlZEluZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSwxMCldLHRydWUpO1xyXG5cdFx0XHRTZWxlY3RlZEluZGV4ID0gbnVsbDtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKiBTZWxlY3RpbmcgKi9cclxuXHJcblx0ZnVuY3Rpb24gcmVtb3ZlU2VsZWN0ZWQoaXRlbSx0cmlnZ2VyQ2FsbGJhY2ssZXZlbnQpIHtcclxuXHRcdGlmKGV2ZW50KSBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdGlmKFNlbGVjdGVkICYmIFNlbGVjdGVkLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xyXG5cdFx0XHRTZWxlY3RlZC5zcGxpY2UoU2VsZWN0ZWQuaW5kZXhPZihpdGVtKSwxKTtcclxuXHRcdFx0aWYoIVNlbGVjdGVkLmxlbmd0aCkgU2VsZWN0ZWQgPSBudWxsO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdFNlbGVjdGVkID0gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRpZighU2VsZWN0ZWQpIEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNiLW1haW4taXRlbScpLmNsYXNzTGlzdC5hZGQoJ2NiLXBsYWNlaG9sZGVyJyk7XHJcblx0XHRpZihvblJlbW92ZSAmJiB0cmlnZ2VyQ2FsbGJhY2spIG9uUmVtb3ZlKGl0ZW0pO1xyXG5cdFx0cmVuZGVyU2VsZWN0aW9uKCk7XHJcblx0XHRyZW5kZXJJdGVtcygpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc2VsZWN0TmV4dCgpIHtcclxuICAgICAgICBpZihTZWxlY3RlZEluZGV4ID09PSBudWxsKSBTZWxlY3RlZEluZGV4ID0gLTE7XHJcbiAgICAgICAgbGV0IG1heCA9IEl0ZW1Db250YWluZXIuY2hpbGRyZW4ubGVuZ3RoIC0gMTtcclxuXHJcbiAgICAgICAgU2VsZWN0ZWRJbmRleCA9IChTZWxlY3RlZEluZGV4IDwgbWF4KSA/IFNlbGVjdGVkSW5kZXggKyAxIDogbWF4O1xyXG4gICAgICAgIHVwZGF0ZVNlbGVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdFByZXYoKSB7XHJcbiAgICAgICAgbGV0IG1heCA9IEl0ZW1Db250YWluZXIuY2hpbGRyZW4ubGVuZ3RoIC0gMTtcclxuXHJcbiAgICAgICAgU2VsZWN0ZWRJbmRleCA9ICghU2VsZWN0ZWRJbmRleCkgPyBudWxsIDogU2VsZWN0ZWRJbmRleCAtIDE7XHJcbiAgICAgICAgdXBkYXRlU2VsZWN0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2Nyb2xsU2VsZWN0ZWRJbnRvVmlldygpIHtcclxuXHRcdGlmKCFTZWxlY3RlZEluZGV4IHx8IFNlbGVjdGVkSW5kZXggPCAwKSByZXR1cm47XHJcblx0XHRsZXQgc2VsZWN0ZWRJdGVtID0gSXRlbUNvbnRhaW5lci5jaGlsZHJlbltTZWxlY3RlZEluZGV4XTtcclxuXHRcdGxldCBjb250YWluZXJUb3AgPSBJdGVtQ29udGFpbmVyLnNjcm9sbFRvcDtcclxuXHRcdGxldCBjb250YWluZXJCb3R0b20gPSBJdGVtQ29udGFpbmVyLnNjcm9sbFRvcCArIEl0ZW1Db250YWluZXIuY2xpZW50SGVpZ2h0O1xyXG5cdFx0bGV0IHNlbGVjdGVkSXRlbVRvcCA9IHNlbGVjdGVkSXRlbS5vZmZzZXRUb3A7XHJcblx0XHRsZXQgc2VsZWN0ZWRJdGVtQm90dG9tID0gc2VsZWN0ZWRJdGVtLm9mZnNldFRvcCArIHNlbGVjdGVkSXRlbS5jbGllbnRIZWlnaHQ7XHJcblx0XHRpZihzZWxlY3RlZEl0ZW1Ub3AgPCBjb250YWluZXJUb3ApIEl0ZW1Db250YWluZXIuc2Nyb2xsVG9wID0gc2VsZWN0ZWRJdGVtLm9mZnNldFRvcDtcclxuXHRcdGVsc2UgaWYoc2VsZWN0ZWRJdGVtQm90dG9tID4gY29udGFpbmVyQm90dG9tKSBJdGVtQ29udGFpbmVyLnNjcm9sbFRvcCA9IHNlbGVjdGVkSXRlbUJvdHRvbSAtIEl0ZW1Db250YWluZXIuY2xpZW50SGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGlvbigpIHtcclxuICAgICAgICB2YXIgb2xkU2VsZWN0aW9uID0gSXRlbUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2Itc2VsZWN0ZWQnKTtcclxuICAgICAgICBpZihvbGRTZWxlY3Rpb24pIG9sZFNlbGVjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdjYi1zZWxlY3RlZCcpO1xyXG4gICAgICAgIGxldCBlbCA9IEl0ZW1Db250YWluZXIuY2hpbGRyZW5bU2VsZWN0ZWRJbmRleF07XHJcbiAgICAgICAgaWYoZWwpIGVsLmNsYXNzTGlzdC5hZGQoJ2NiLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgc2Nyb2xsU2VsZWN0ZWRJbnRvVmlldygpO1xyXG4gICAgfVxyXG5cclxuXHRmdW5jdGlvbiBzZWxlY3RJdGVtKGl0ZW0sdHJpZ2dlckNhbGxiYWNrLGV2ZW50KSB7XHJcblx0XHRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYi1tYWluLWl0ZW0nKS5jbGFzc0xpc3QucmVtb3ZlKCdjYi1wbGFjZWhvbGRlcicpO1xyXG5cdFx0cmVzZXRTZWFyY2goKTtcclxuXHJcblx0XHRpZihNdWx0aXBsZSkge1xyXG5cdFx0XHRpZighU2VsZWN0ZWQgfHwgIVNlbGVjdGVkLnJlZHVjZSgobSxpKSA9PiBtIHx8IGlzRXF1aXZhbGVudChpdGVtLGkpLGZhbHNlKSl7XHJcblx0XHRcdFx0aWYoU2VsZWN0ZWQpIFNlbGVjdGVkLnB1c2goaXRlbSk7XHJcblx0XHRcdFx0ZWxzZSBTZWxlY3RlZCA9IFtpdGVtXTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmVuZGVySXRlbXMoKTtcclxuXHRcdFx0aWYoZXZlbnQpIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRmb2N1c1NlYXJjaCgpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdFNlbGVjdGVkID0gaXRlbTtcclxuXHRcdFx0c2V0T3BlbmVkKGZhbHNlKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZihvblNlbGVjdCAmJiB0cmlnZ2VyQ2FsbGJhY2spIG9uU2VsZWN0KGl0ZW0pO1xyXG5cdFx0cmVuZGVyU2VsZWN0aW9uKCk7XHJcblx0fVxyXG5cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuICAgIC8qIFNlYXJjaGluZyAqL1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldFNlYXJjaChzdGF0ZSkge1xyXG5cdFx0U2VhcmNoID0gKHN0YXRlKSA/IHRydWUgOiBmYWxzZTtcclxuXHJcblx0XHRpZihTZWFyY2gpIHtcclxuXHRcdFx0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjYi1zZWFyY2gtZW5hYmxlZCcpO1xyXG5cdFx0XHRsZXQgU2VhcmNoQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuXHRcdFx0XHRTZWFyY2hCb3guY2xhc3NOYW1lID0gJ2NiLXNlYXJjaCc7XHJcblx0XHRcdFx0U2VhcmNoQm94LnNldEF0dHJpYnV0ZSgndHlwZScsJ3RleHQnKTtcclxuXHRcdFx0XHRTZWFyY2hCb3guc2V0QXR0cmlidXRlKCdzaXplJywxKTtcclxuXHRcdFx0XHRTZWFyY2hCb3guc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCdvZmYnKTtcclxuXHJcblx0XHRcdFx0U2VhcmNoQm94LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJyxmdW5jdGlvbiBLZXlVcChlKSB7XHJcblx0XHRcdFx0XHRJdGVtQ29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgnbm8tcmVzdWx0cy10ZXh0Jyk7XHJcblx0XHRcdFx0XHRpZihuZXcgUmVnRXhwKCczOHw0MHwxMycpLnRlc3QoZS5rZXlDb2RlKSA9PT0gZmFsc2UgJiYgdGhpcy52YWx1ZS5sZW5ndGggPj0gTWluTGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFR5cGVUcmVzaG9sZCAmJiBjbGVhclRpbWVvdXQoVHlwZVRyZXNob2xkKTtcclxuXHRcdFx0XHRcdFx0VHlwZVRyZXNob2xkID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0XHRcdHNlYXJjaChTZWFyY2hCb3gudmFsdWUsZnVuY3Rpb24ocmVzdWx0KXtcclxuXHRcdFx0XHRcdFx0XHRcdGlmKC97ey4qfX0vaWcudGVzdChGZXRjaFVybCkpIEl0ZW1zID0gcmVzdWx0O1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYoSXRlbUZ1bmN0aW9uKSBJdGVtcyA9IHJlc3VsdDtcclxuXHRcdFx0XHRcdFx0XHRcdGlmKCFJdGVtcy5sZW5ndGggJiYgTm9SZXN1bHRzKSBJdGVtQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnbm8tcmVzdWx0cy10ZXh0JyxOb1Jlc3VsdHMucmVwbGFjZSgne3txdWVyeX19JyxTZWFyY2hCb3gudmFsdWUpKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRyZW5kZXJJdGVtcyhyZXN1bHQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0U2VsZWN0ZWRJbmRleCA9IG51bGw7XHJcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3ROZXh0KCk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0sMjAwKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0U2VhcmNoQm94LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJyxmdW5jdGlvbiBLZXlQcmVzcygpIHtcclxuXHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKCdzaXplJyx0aGlzLnZhbHVlLmxlbmd0aCArIDEpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2ItbWFpbi1pdGVtJykuYXBwZW5kQ2hpbGQoU2VhcmNoQm94KTtcclxuXHRcdH1lbHNlIEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnY2Itc2VhcmNoLWVuYWJsZWQnKTtcclxuXHR9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzZXRTZWFyY2goKSB7XHJcblx0XHRpZighU2VhcmNoKSByZXR1cm47XHJcblx0XHRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYi1zZWFyY2gnKS52YWx1ZSA9ICcnO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZm9jdXNTZWFyY2goKSB7XHJcblx0XHRpZighU2VhcmNoKSByZXR1cm47XHJcblx0XHRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYi1zZWFyY2gnKS5mb2N1cygpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc2VhcmNoKHF1ZXJ5LGNiKSB7XHJcblx0XHRpZighcXVlcnkpIHJldHVybiBJdGVtcztcclxuXHRcdGxldCByZWdleCA9IG5ldyBSZWdFeHAocXVlcnksJ2knKTtcclxuXHJcblx0XHRpZigve3suKn19L2lnLnRlc3QoRmV0Y2hVcmwpKSB7XHJcblx0XHRcdGZldGNoSXRlbXMoRmV0Y2hVcmwucmVwbGFjZSgve3txdWVyeX19LyxxdWVyeSksY2IpO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZihJdGVtRnVuY3Rpb24pe1xyXG5cdFx0XHR0b2dnbGVMb2FkZXIodHJ1ZSk7XHJcblx0XHRcdEl0ZW1GdW5jdGlvbihxdWVyeSwgZnVuY3Rpb24ocmVzdWx0KXtcclxuXHRcdFx0XHRjYigoUHJvY2Vzc2luZykgPyBQcm9jZXNzaW5nKHJlc3VsdCkgOiByZXN1bHQpO1xyXG5cdFx0XHRcdHRvZ2dsZUxvYWRlcihmYWxzZSk7XHJcblx0XHRcdH0pXHJcblxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGNiKEl0ZW1zLmZpbHRlcihmdW5jdGlvbiBGaWx0ZXIoeCkge1xyXG5cdFx0XHRcdGlmKFNlYXJjaEZpZWxkcykge1xyXG5cdFx0XHRcdFx0bGV0IHN0YXRlID0gZmFsc2U7XHJcblx0XHRcdFx0XHRTZWFyY2hGaWVsZHMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uIEZvckVhY2goZmllbGQpIHtcclxuXHRcdFx0XHRcdFx0bGV0IGtleXMgPSBmaWVsZC5zcGxpdCgnLicpO1xyXG5cdFx0XHRcdFx0XHRsZXQgdmFsdWUgPSBrZXlzLnJlZHVjZShmdW5jdGlvbiBSZWR1Y2UodmFsLGl0ZW0pIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsW2l0ZW1dO1xyXG5cdFx0XHRcdFx0XHR9LHgpO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYocmVnZXgudGVzdCh2YWx1ZSkpIHN0YXRlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBzdGF0ZTtcclxuXHRcdFx0XHR9ZWxzZVxyXG5cdFx0XHRcdGlmKHR5cGVvZiB4ID09PSAnc3RyaW5nJykgcmV0dXJuIHJlZ2V4LnRlc3QoeCk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0cmV0dXJuIHNlYXJjaE9iamVjdCh4KTtcclxuXHRcdFx0fSkpO1xyXG5cdFx0fVxyXG5cclxuXHJcblxyXG5cclxuXHRcdGZ1bmN0aW9uIHNlYXJjaE9iamVjdChvYmopIHtcclxuXHRcdFx0cmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKGZ1bmN0aW9uIFJlZHVjZSh2YWwsa2V5KSB7XHJcblx0XHRcdFx0bGV0IGNoZWNrID0gZmFsc2U7XHJcblx0XHRcdFx0aWYodHlwZW9mIG9ialtrZXldID09PSAnb2JqZWN0JykgY2hlY2sgPSBzZWFyY2hPYmplY3Qob2JqW2tleV0pO1xyXG5cdFx0XHRcdGVsc2UgY2hlY2sgPSByZWdleC50ZXN0KG9ialtrZXldKTtcclxuXHJcblx0XHRcdFx0aWYoY2hlY2spIHZhbCA9IHRydWU7XHJcblxyXG5cdFx0XHRcdHJldHVybiB2YWw7XHJcblx0XHRcdH0sZmFsc2UpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyogLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcblx0LyogUmVuZGVyaW5nICovXHJcblxyXG5cdGZ1bmN0aW9uIHJlbmRlckhUTUwoKSB7IC8vY29tbWVudFxyXG5cdFx0bGV0IE1haW5JdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdE1haW5JdGVtLmNsYXNzTmFtZSA9ICdjYi1tYWluLWl0ZW0gY2ItcGxhY2Vob2xkZXIgdHJpZ2dlcic7XHJcblxyXG5cclxuXHRcdGxldCBDYXJldCA9IGA8c3ZnIGNsYXNzPVwiY2ItY2FyZXQgdHJpZ2dlclwiIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIGhlaWdodD1cIjIwXCIgd2lkdGg9XCIyMFwiPlxyXG5cdFx0XHRcdFx0XHQ8cGF0aCBjbGFzcz1cInRyaWdnZXJcIiBkPVwibTUwOCAxMDhjLTQtNC0xMS00LTE1IDFsLTIzNyAyNzFsLTIzNy0yNzFjLTQtNS0xMS01LTE1LTFjLTUgNC01IDEwLTEgMTVsMjQ1IDI4MGMyIDMgNSA0IDggNGMzIDAgNi0xIDgtNGwyNDUtMjgwYzQtNSA0LTExLTEtMTV6XCI+PC9wYXRoPlxyXG5cdFx0XHRcdFx0PC9zdmc+YDtcclxuXHJcblx0XHRNYWluSXRlbS5pbm5lckhUTUwgKz0gQ2FyZXQ7XHJcblx0XHRFbGVtZW50LmFwcGVuZENoaWxkKE1haW5JdGVtKTtcclxuXHJcblx0XHRJdGVtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRJdGVtQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdjYi1pdGVtcyc7XHJcblx0XHRFbGVtZW50LmFwcGVuZENoaWxkKEl0ZW1Db250YWluZXIpO1xyXG5cclxuXHRcdExvYWRpbmdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdExvYWRpbmdDb250YWluZXIuY2xhc3NOYW1lID0gJ2NiLWxvYWRlcic7XHJcblx0XHRFbGVtZW50LmFwcGVuZENoaWxkKExvYWRpbmdDb250YWluZXIpO1xyXG5cclxuXHRcdE1haW5JdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoZSkgPT4ge1xyXG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRzZXRPcGVuZWQoIWlzT3Blbik7XHJcblx0XHR9KTtcclxuXHJcblx0XHRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywoZSkgPT4ge1xyXG5cdFx0XHRpZihlLmtleUNvZGUgPT09IDEzKSBzZXRPcGVuZWQoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gcmVuZGVyU2VsZWN0aW9uKCkge1xyXG5cclxuXHRcdGxldCBtYWluSXRlbSA9IEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNiLW1haW4taXRlbScpO1xyXG5cclxuXHRcdGlmKE11bHRpcGxlKSB7XHJcblx0XHRcdFtdLnNsaWNlLmNhbGwoRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2ItbWFpbi1pdGVtIC5jYi10YWcnKSkuZm9yRWFjaCgodCkgPT4ge1xyXG5cdFx0XHRcdG1haW5JdGVtLnJlbW92ZUNoaWxkKHQpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmKCFTZWxlY3RlZCkgcmV0dXJuO1xyXG5cdFx0XHRTZWxlY3RlZC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cdFx0XHRcdGxldCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0XHRcdHRhZy5jbGFzc05hbWUgPSAnY2ItdGFnJztcclxuXHRcdFx0XHRcdHRhZy5pbm5lckhUTUwgPSBwYXJzZVRlbXBsYXRlKGl0ZW0sVGFnVGVtcGxhdGUgfHwgVGVtcGxhdGUpICsgYDxzdmcgdmlld0JveD1cIjAgMCA1MTIgNTEyXCI+XHJcblx0XHRcdFx0XHRcdDxwYXRoIGQ9XCJtMjcxIDI1NmwyMzgtMjM4YzQtNCA0LTExIDAtMTVjLTQtNC0xMS00LTE1IDBsLTIzOCAyMzhsLTIzOC0yMzhjLTQtNC0xMS00LTE1IDBjLTQgNC00IDExIDAgMTVsMjM4IDIzOGwtMjM4IDIzOGMtNCA0LTQgMTEgMCAxNWMyIDIgNSAzIDggM2MyIDAgNS0xIDctM2wyMzgtMjM4bDIzOCAyMzhjMiAyIDUgMyA3IDNjMyAwIDYtMSA4LTNjNC00IDQtMTEgMC0xNXpcIj48L3BhdGg+XHJcblx0XHRcdFx0XHQ8L3N2Zz5gO1xyXG5cclxuXHRcdFx0XHRcdHRhZy5xdWVyeVNlbGVjdG9yKCdzdmcnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycscmVtb3ZlU2VsZWN0ZWQuYmluZChudWxsLGl0ZW0sdHJ1ZSkpO1xyXG5cclxuXHRcdFx0XHRtYWluSXRlbS5pbnNlcnRCZWZvcmUodGFnLG1haW5JdGVtLmNoaWxkcmVuW21haW5JdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDFdKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZighU2VsZWN0ZWQpIHJldHVybiBbXS5zbGljZS5jYWxsKG1haW5JdGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYi1zZWxlY3RlZC1pdGVtLC5jYi10YWcnKSkuZm9yRWFjaCggZSA9PiBtYWluSXRlbS5yZW1vdmVDaGlsZChlKSk7XHJcblx0XHRcdGxldCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdGl0ZW0uY2xhc3NOYW1lID0gJ2NiLXNlbGVjdGVkLWl0ZW0nO1xyXG5cdFx0XHRpdGVtLmlubmVySFRNTCA9IHBhcnNlVGVtcGxhdGUoU2VsZWN0ZWQsU2VsZWN0ZWRUZW1wbGF0ZSB8fCBUZW1wbGF0ZSk7XHJcblxyXG5cdFx0XHRsZXQgcHJldmlvdXNJdGVtID0gRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2Itc2VsZWN0ZWQtaXRlbScpO1xyXG5cdFx0XHRpZihwcmV2aW91c0l0ZW0pIG1haW5JdGVtLnJlbW92ZUNoaWxkKHByZXZpb3VzSXRlbSk7XHJcblx0XHRcdG1haW5JdGVtLmluc2VydEJlZm9yZShpdGVtLG1haW5JdGVtLmNoaWxkcmVuW21haW5JdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDFdKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGZldGNoSXRlbXModXJsLGNiKSB7XHJcblx0XHRpZihGZXRjaCkge1xyXG5cdFx0XHRGZXRjaC5hYm9ydCgpO1xyXG5cdFx0XHR0b2dnbGVMb2FkZXIoZmFsc2UpO1xyXG5cdFx0fVxyXG5cdFx0RmV0Y2ggPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHRcdEZldGNoLm9wZW4oJ0dFVCcsdXJsKTtcclxuXHRcdEZldGNoLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdGlmKHRoaXMucmVhZHlTdGF0ZSA9PSA0KSB7XHJcblx0XHRcdFx0dG9nZ2xlTG9hZGVyKGZhbHNlKTtcclxuXHRcdFx0XHRpZih0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCA0MDApIHtcclxuXHRcdFx0XHRcdGNiKChQcm9jZXNzaW5nKSA/IFByb2Nlc3NpbmcoSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCkpIDogSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCkpO1xyXG5cdFx0XHRcdFx0RmV0Y2ggPSBudWxsO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0Y2IoW10pO1xyXG5cdFx0XHRcdFx0RmV0Y2ggPSBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0RmV0Y2guc2VuZCgpO1xyXG5cdFx0dG9nZ2xlTG9hZGVyKHRydWUpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gdG9nZ2xlTG9hZGVyKHN0YXRlKSB7XHJcblx0XHRpZihzdGF0ZSkge1xyXG5cdFx0XHRMb2FkaW5nQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0XHRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYi1jYXJldCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0TG9hZGluZ0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcblx0XHRcdEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNiLWNhcmV0Jykuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuXHRcdEl0ZW1Db250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcblxyXG5cdFx0aWYoQ2F0ZWdvcml6ZSlcclxuXHRcdFx0SXRlbXMgPSBJdGVtcy5zb3J0KChhLGIpID0+IHtcclxuXHRcdFx0XHRpZihnZXRQcm9wZXJ0eUJ5U3RyaW5nKENhdGVnb3JpemUsYSkgPCBnZXRQcm9wZXJ0eUJ5U3RyaW5nKENhdGVnb3JpemUsYikpIHJldHVybiAtMTtcclxuXHRcdFx0XHRpZihnZXRQcm9wZXJ0eUJ5U3RyaW5nKENhdGVnb3JpemUsYSkgPiBnZXRQcm9wZXJ0eUJ5U3RyaW5nKENhdGVnb3JpemUsYikpIHJldHVybiAxO1xyXG5cdFx0XHRcdHJldHVybiAwO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRsZXQgcHJldmlvdXNJdGVtID0gbnVsbDtcclxuXHRcdEl0ZW1zLmZvckVhY2goKGl0ZW0saW5kZXgpID0+IHtcclxuXHRcdFx0aWYoaXRlbXMgJiYgaXRlbXMuaW5kZXhPZihpdGVtKSA8IDApIHJldHVybjtcclxuXHRcdFx0aWYoTXVsdGlwbGUgJiYgU2VsZWN0ZWQgJiYgU2VsZWN0ZWQucmVkdWNlKChtLGkpID0+IG0gfHwgaXNFcXVpdmFsZW50KGl0ZW0saSksZmFsc2UpIHx8ICFNdWx0aXBsZSAmJiBTZWxlY3RlZCA9PT0gaXRlbSkgcmV0dXJuO1xyXG5cdFx0XHRsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdFx0b3B0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIGluZGV4KTtcclxuXHRcdFx0XHRvcHRpb24uaW5uZXJIVE1MID0gcGFyc2VUZW1wbGF0ZShpdGVtLFRlbXBsYXRlKTtcclxuXHRcdFx0XHRvcHRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLHNlbGVjdEl0ZW0uYmluZChudWxsLGl0ZW0sdHJ1ZSkpO1xyXG5cclxuXHRcdFx0aWYoQ2F0ZWdvcml6ZSAmJiAoIXByZXZpb3VzSXRlbSB8fCBnZXRQcm9wZXJ0eUJ5U3RyaW5nKENhdGVnb3JpemUscHJldmlvdXNJdGVtKSAhPT0gZ2V0UHJvcGVydHlCeVN0cmluZyhDYXRlZ29yaXplLGl0ZW0pKSkgb3B0aW9uLnNldEF0dHJpYnV0ZSgnY2F0ZWdvcnknLGdldFByb3BlcnR5QnlTdHJpbmcoQ2F0ZWdvcml6ZSxpdGVtKSk7XHJcblxyXG5cdFx0XHRwcmV2aW91c0l0ZW0gPSBpdGVtO1xyXG5cdFx0XHRJdGVtQ29udGFpbmVyLmFwcGVuZENoaWxkKG9wdGlvbik7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHBhcnNlVGVtcGxhdGUoZGF0YSx0ZW1wbGF0ZSkge1xyXG5cdFx0bGV0IHJlID0gL3t7ZGF0YVxcLj8oLis/KT99fS87XHJcblx0XHRsZXQgbTtcclxuXHRcdHdoaWxlKG0gPSByZS5leGVjKHRlbXBsYXRlKSkge1xyXG5cdFx0XHRsZXQgc2VsZWN0b3IgPSAnJztcclxuXHRcdFx0bGV0IHZhbHVlID0gZGF0YTtcclxuXHRcdFx0aWYobVsxXSkge1xyXG5cdFx0XHRcdHNlbGVjdG9yID0gJy4nICsgbVsxXTtcclxuXHRcdFx0XHR2YWx1ZSA9IGdldFByb3BlcnR5QnlTdHJpbmcobVsxXSxkYXRhKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IHJlcGxhY2UgPSBuZXcgUmVnRXhwKCd7e2RhdGEnICsgc2VsZWN0b3IgKyAnfX0nKTtcclxuXHRcdFx0dGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKHJlcGxhY2UsdmFsdWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0ZW1wbGF0ZTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGdldFByb3BlcnR5QnlTdHJpbmcoc2VsZWN0b3Isb2JqZWN0KSB7XHJcblx0XHRyZXR1cm4gc2VsZWN0b3Iuc3BsaXQoJy4nKS5yZWR1Y2UoKHZhbCxpdGVtKSA9PiB7XHJcblx0XHRcdHJldHVybiB2YWxbaXRlbV07XHJcblx0XHR9LG9iamVjdCk7XHJcblx0fVxyXG5cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuXHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtcclxuXHRcdCdlbGVtZW50Jzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IEVsZW1lbnQsXHJcblx0XHRcdHNldDogKHgpID0+IHtcclxuXHRcdFx0XHRpZih0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdGxldCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoeCk7XHJcblx0XHRcdFx0XHRpZihlbCkgRWxlbWVudCA9IGVsO1xyXG5cdFx0XHRcdFx0ZWxzZSBjb25zb2xlLmVycm9yKCdFbGVtZW50IG5vdCBmb3VuZC4nKTtcclxuXHRcdFx0XHR9ZWxzZSBpZih4IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIEVsZW1lbnQgPSB4O1xyXG5cdFx0XHRcdGVsc2UgY29uc29sZS5lcnJvcignSW52YWxpZCBhcmd1bWVudCcpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J2l0ZW1zJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IEZldGNoVXJsIHx8IEl0ZW1GdW5jdGlvbiB8fCBJdGVtcyxcclxuXHRcdFx0c2V0OiAoeCkgPT4ge1xyXG5cdFx0XHRcdGlmKHggaW5zdGFuY2VvZiBBcnJheSkgSXRlbXMgPSB4O1xyXG5cdFx0XHRcdGVsc2UgaWYodHlwZW9mIHggPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdEZldGNoVXJsID0geFxyXG5cdFx0XHRcdFx0aWYoISgve3suKn19L2lnLnRlc3QoRmV0Y2hVcmwpKSkgZmV0Y2hJdGVtcyhGZXRjaFVybCxmdW5jdGlvbihyZXN1bHQpIHtcclxuXHRcdFx0XHRcdFx0SXRlbXMgPSByZXN1bHQ7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgeCA9PSAnZnVuY3Rpb24nKSB7XHJcblxyXG5cdFx0XHRcdFx0SXRlbUZ1bmN0aW9uID0geDtcclxuXHJcblx0XHRcdFx0XHR0b2dnbGVMb2FkZXIodHJ1ZSk7XHJcblx0XHRcdFx0XHRJdGVtRnVuY3Rpb24obnVsbCxmdW5jdGlvbihyZXN1bHQpIHtcclxuXHRcdFx0XHRcdFx0aWYocmVzdWx0IGluc3RhbmNlb2YgQXJyYXkpe1xyXG5cdFx0XHRcdFx0XHRcdGlmKFByb2Nlc3NpbmcpIEl0ZW1zID0gUHJvY2Vzc2luZyhyZXN1bHQpXHJcblx0XHRcdFx0XHRcdFx0ZWxzZSBJdGVtcyA9IHJlc3VsdDtcclxuXHRcdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdFx0SXRlbXMgPSBbXTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR0b2dnbGVMb2FkZXIoZmFsc2UpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGNvbnNvbGUuZXJyb3IoJ0l0ZW1zIG11c3QgYmUgYW4gYXJyYXkgb3IgVVJMLicpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J21pbmxlbmd0aCc6IHtcclxuXHRcdFx0Z2V0OiAoKSA9PiBNaW5MZW5ndGgsXHJcblx0XHRcdHNldDogKHgpID0+IHtcclxuXHRcdFx0XHRpZihpc05hTih4KSkgTWluTGVuZ3RoID0gMDtcclxuXHRcdFx0XHRlbHNlIE1pbkxlbmd0aCA9IHg7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQnc2VhcmNoJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IFNlYXJjaCxcclxuXHRcdFx0c2V0OiBzZXRTZWFyY2hcclxuXHRcdH0sXHJcblx0XHQncGxhY2Vob2xkZXInOiB7XHJcblx0XHRcdGdldDogKCkgPT4gUGxhY2Vob2xkZXIsXHJcblx0XHRcdHNldDogc2V0UGxhY2Vob2xkZXJcclxuXHRcdH0sXHJcblx0XHQnbm9yZXN1bHRzJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IE5vUmVzdWx0cyxcclxuXHRcdFx0c2V0OiAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRpZih0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSBOb1Jlc3VsdHMgPSB2YWx1ZTtcclxuXHRcdFx0XHRlbHNlIE5vUmVzdWx0cyA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQnbXVsdGlwbGUnOiB7XHJcblx0XHRcdGdldDogKCkgPT4gTXVsdGlwbGUsXHJcblx0XHRcdHNldDogc2V0TXVsdGlwbGVcclxuXHRcdH0sXHJcblx0XHQnc2VsZWN0ZWQnOiB7XHJcblx0XHRcdGdldDogKCkgPT4gU2VsZWN0ZWRcclxuXHRcdH0sXHJcblx0XHQndGVtcGxhdGUnOiB7XHJcblx0XHRcdGdldDogKCkgPT4gVGVtcGxhdGUsXHJcblx0XHRcdHNldDogKHgpID0+IHtcclxuXHRcdFx0XHRpZih0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdFRlbXBsYXRlID0geDtcclxuXHRcdFx0XHRcdHJlbmRlckl0ZW1zKCk7XHJcblx0XHRcdFx0XHRyZW5kZXJTZWxlY3Rpb24oKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBjb25zb2xlLmVycm9yKCdUZW1wbGF0ZSBtdXN0IGJlIGEgc3RyaW5nLicpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J3RhZ3RlbXBsYXRlJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IFRhZ1RlbXBsYXRlIHx8IFRlbXBsYXRlLFxyXG5cdFx0XHRzZXQ6ICh4KSA9PiB7XHJcblx0XHRcdFx0aWYodHlwZW9mIHggPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0XHRUYWdUZW1wbGF0ZSA9IHg7XHJcblx0XHRcdFx0XHRyZW5kZXJJdGVtcygpO1xyXG5cdFx0XHRcdFx0cmVuZGVyU2VsZWN0aW9uKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J3NlbGVjdGVkdGVtcGxhdGUnOiB7XHJcblx0XHRcdGdldDogKCkgPT4gU2VsZWN0ZWRUZW1wbGF0ZSB8fCBUZW1wbGF0ZSxcclxuXHRcdFx0c2V0OiAoeCkgPT4ge1xyXG5cdFx0XHRcdGlmKHR5cGVvZiB4ID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdFx0U2VsZWN0ZWRUZW1wbGF0ZSA9IHg7XHJcblx0XHRcdFx0XHRyZW5kZXJJdGVtcygpO1xyXG5cdFx0XHRcdFx0cmVuZGVyU2VsZWN0aW9uKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J3NlYXJjaGZpZWxkcyc6IHtcclxuXHRcdFx0Z2V0OiAoKSA9PiBTZWFyY2hGaWVsZHMsXHJcblx0XHRcdHNldDogKHgpID0+IHtcclxuXHRcdFx0XHRpZih0eXBlb2YgeCA9PT0gJ3N0cmluZycpIFNlYXJjaEZpZWxkcyA9IHg7XHJcblx0XHRcdFx0ZWxzZSBjb25zb2xlLmVycm9yKCdTZWFyY2hGaWVsZHMgbXVzdCBiZSBhIHN0cmluZy4nKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdCdvbnNlbGVjdCc6IHtcclxuXHRcdFx0Z2V0OiAoKSA9PiBvblNlbGVjdCxcclxuXHRcdFx0c2V0OiAoeCkgPT4ge1xyXG5cdFx0XHRcdGlmKHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nKSBvblNlbGVjdCA9IHg7XHJcblx0XHRcdFx0ZWxzZSBpZigheCkgb25TZWxlY3QgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J3Byb2Nlc3NpbmcnOiB7XHJcblx0XHRcdGdldDogKCkgPT4gUHJvY2Vzc2luZyxcclxuXHRcdFx0c2V0OiAoeCkgPT4ge1xyXG5cdFx0XHRcdGlmKHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nKSBQcm9jZXNzaW5nID0geDtcclxuXHRcdFx0XHRlbHNlIGlmKCF4KSBQcm9jZXNzaW5nID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdCdvbnJlbW92ZSc6IHtcclxuXHRcdFx0Z2V0OiAoKSA9PiBvblJlbW92ZSxcclxuXHRcdFx0c2V0OiAoeCkgPT4ge1xyXG5cdFx0XHRcdGlmKHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nKSBvblJlbW92ZSA9IHg7XHJcblx0XHRcdFx0ZWxzZSBpZigheCkgb25SZW1vdmUgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0J29uYWRkJzoge1xyXG5cdFx0XHRnZXQ6ICgpID0+IG9uQWRkLFxyXG5cdFx0XHRzZXQ6ICh4KSA9PiB7XHJcblx0XHRcdFx0aWYodHlwZW9mIHggPT09ICdmdW5jdGlvbicpIG9uQWRkID0geDtcclxuXHRcdFx0XHRlbHNlIGlmKCF4KSBvbkFkZCA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQnY2F0ZWdvcml6ZSc6IHtcclxuXHRcdFx0Z2V0OiAoKSA9PiBDYXRlZ29yaXplLFxyXG5cdFx0XHRzZXQ6ICh4KSA9PiB7XHJcblx0XHRcdFx0aWYodHlwZW9mIHggPT09ICdzdHJpbmcnKSBDYXRlZ29yaXplID0geDtcclxuXHRcdFx0XHRlbHNlIENhdGVnb3JpemUgPSBudWxsO1xyXG5cclxuXHRcdFx0XHRyZW5kZXJJdGVtcygpXHQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0dGhpcy5zZWxlY3QgPSBmdW5jdGlvbiBTZWxlY3QoaXRlbSkge1xyXG5cdFx0aWYoIWl0ZW0pIHJldHVybiBSZXNldCgpO1xyXG5cclxuXHRcdGlmKEZldGNoVXJsICYmIC97ey4qfX0vaWcudGVzdChGZXRjaFVybCkpIHtcclxuXHRcdFx0SXRlbXMgPSBbaXRlbV07XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IG1hdGNoID0gKEl0ZW1zLmxlbmd0aCkgPyBJdGVtcy5yZWR1Y2UoKG0saSkgPT4gbSA9IGlzRXF1aXZhbGVudChpdGVtLGkpID8gaSA6IG0sbnVsbCkgOiBpdGVtIDtcclxuXHRcdGlmKG1hdGNoKSBzZWxlY3RJdGVtKG1hdGNoKTtcclxuXHR9O1xyXG5cclxuXHR0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uIFJlbW92ZShpdGVtKSB7XHJcblx0XHRpZighaXRlbSkgcmV0dXJuIFJlc2V0KCk7XHJcblx0XHRsZXQgbWF0Y2ggPSBJdGVtcy5yZWR1Y2UoKG0saSkgPT4gbSA9IGlzRXF1aXZhbGVudChpdGVtLGkpID8gaSA6IG0sbnVsbCk7XHJcblx0XHRpZihtYXRjaCkgcmVtb3ZlU2VsZWN0ZWQobWF0Y2gsdHJ1ZSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBpc0VxdWl2YWxlbnQoYSwgYikge1xyXG5cdFx0aWYodHlwZW9mIGEgIT09ICdvYmplY3QnICYmIHR5cGVvZiBiICE9PSAnb2JqZWN0JykgcmV0dXJuIGEgPT09IGI7XHJcblx0XHRsZXQgYVByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYSk7XHJcblx0XHRsZXQgYlByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYik7XHJcblxyXG5cdFx0aWYgKGFQcm9wcy5sZW5ndGggIT09IGJQcm9wcy5sZW5ndGgpIHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGFQcm9wcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRsZXQgcHJvcE5hbWUgPSBhUHJvcHNbaV07XHJcblxyXG5cdFx0XHRpZihhW3Byb3BOYW1lXSAhPT0gYltwcm9wTmFtZV0pIHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gUmVzZXQoKSB7XHJcblx0XHRpZihTZWxlY3RlZCAmJiBTZWxlY3RlZC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHRcdFx0dmFyIGNvcHkgPSBTZWxlY3RlZC5zbGljZSgpO1xyXG5cdFx0XHRjb3B5LmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xyXG5cdFx0XHRcdHJlbW92ZVNlbGVjdGVkKGl0ZW0sdHJ1ZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJlbW92ZVNlbGVjdGVkKFNlbGVjdGVkLHRydWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc2V0U2VhcmNoKCk7XHJcblx0fVxyXG5cclxuXHR0aGlzLnJlc2V0ID0gUmVzZXQ7XHJcblxyXG5cclxuXHRpbml0LmNhbGwodGhpcyk7XHJcblxyXG5cdGZ1bmN0aW9uIHNldEFyZ3Mob3B0cykge1xyXG4gICAgICAgIGZvcihsZXQga2V5IGluIGRlZmF1bHRzKSB0aGlzW2tleV0gPSAob3B0c1trZXldKSA/IG9wdHNba2V5XSA6IGRlZmF1bHRzW2tleV0gO1xyXG4gICAgfTtcclxuXHJcblx0cmV0dXJuIE9iamVjdC5mcmVlemUodGhpcyk7XHJcbiB9XHJcblxyXG5cclxuLyogU3ByZWFkIGl0IHRvIHRoZSB3b3JsZCEgKi9cclxuIChmdW5jdGlvbiBGYWN0b3J5IChmYWN0b3J5KSB7XHJcbiAgICBpZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIGRlZmluZSgnQ2hvb3NlQnVtcHMnLCBmYWN0b3J5KTtcclxuICAgIGVsc2UgaWYgKCB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgKSBtb2R1bGUuZXhwb3J0cyA9IGZhY3Rvcnk7XHJcbiAgICBlbHNlIHdpbmRvdy5DaG9vc2VCdW1wcyA9IGZhY3Rvcnk7XHJcbn0pKENob29zZUJ1bXBzKTtcclxuIl19
